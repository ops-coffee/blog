<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="applicable-device" content="pc,mobile">
  <meta name="keywords" content="MySQL, EXPLAIN, æ…¢æŸ¥è¯¢ä¼˜åŒ–, SQLæ‰§è¡Œè®¡åˆ’, ç´¢å¼•ä¼˜åŒ–, æ•°æ®åº“æ€§èƒ½è°ƒä¼˜" />
  <meta name="description" content="é€šè¿‡å¤§é‡å®ä¾‹æ·±å…¥è§£æMySQLçš„EXPLAINå‘½ä»¤è¾“å‡ºå†…å®¹ï¼Œå¸®åŠ©ä½ ç†è§£å’Œä¼˜åŒ–æ…¢æŸ¥è¯¢ï¼Œæå‡æ•°æ®åº“æ€§èƒ½ã€‚" />
  <link rel="alternate" type="application/rss+xml" title="è¿ç»´å’–å•¡å§" href="https://blog.ops-coffee.cn/feed.xml" />
  <link rel="stylesheet" href="https://blog.ops-coffee.cn/static/posts/css/ops-coffee.min.css" type="text/css" />

  <!-- Begin SEO tag -->
  <title>MySQL EXPLAINç»“æœé›†åˆ†æ - é™„å¸¦å¤§é‡æ¡ˆä¾‹</title>
  <meta property="og:locale" content="zh_CN" />
  <meta property="og:site_name" content="è¿ç»´å’–å•¡å§" />
  <meta property="og:url" content="https://blog.ops-coffee.cn" />
  <meta property="og:title" content="MySQL EXPLAINç»“æœé›†åˆ†æ - é™„å¸¦å¤§é‡æ¡ˆä¾‹" />
  <meta property="og:description" content="é€šè¿‡å¤§é‡å®ä¾‹æ·±å…¥è§£æMySQLçš„EXPLAINå‘½ä»¤è¾“å‡ºå†…å®¹ï¼Œå¸®åŠ©ä½ ç†è§£å’Œä¼˜åŒ–æ…¢æŸ¥è¯¢ï¼Œæå‡æ•°æ®åº“æ€§èƒ½ã€‚" />
  <link rel="canonical" href="https://blog.ops-coffee.cn" />
  <!-- End SEO tag -->
</head>

<body>
  <div class="header">
    <div class="menu-button">&#9776; 
        <span class="menu-title">è¿ç»´å’–å•¡å§</span>
    </div> 

    <div class="container">
      <nav class="header-site">
        <ul>
          <li><a href="/">é¦–é¡µ</a></li>
            <li class="has-submenu">
              <a href="#" target="_self">è¿ç»´</a>
              <ul class="sub-menu">
                <li><a href="/tag/ç³»ç»Ÿè¿ç»´/" target="_self">ç³»ç»Ÿè¿ç»´</a></li>
                <li><a href="/elk/index.html" target="_self">ELKç³»åˆ—</a></li>
                <li><a href="/ldap/index.html" target="_self">LDAPç³»åˆ—</a></li>
              </ul>
            </li>
            <li class="has-submenu">
              <a href="#" target="_self">å¼€å‘</a>
              <ul class="sub-menu">
                <li><a href="/tag/Devops/" target="_self">DevOps</a></li>
                <li><a href="/tag/Python/" target="_self">Python</a></li>
                <li><a href="/tag/Django/" target="_self">Django</a></li>
                <li><a href="/bpmn/index.html" target="_self">BPMNç³»åˆ—</a></li>
                <li><a href="/webssh/index.html" target="_self">WebSSHç³»åˆ—</a></li>
                <li><a href="/frontend/index.html" target="_self">å‰ç«¯å¼€å‘ç³»åˆ—</a></li>
              </ul>
            </li>
            <li><a href="/devops/index.html" target="_self">è¿ç»´å¹³å°</a></li>
            <li class="has-submenu">
              <a href="#" target="_self">è¿™æ˜¯ç”Ÿæ´»</a>
              <ul class="sub-menu">
                <li><a href="/life/chronicles.html" target="_self">æ—¶å…‰å°è®°</a></li>
                <li><a href="/life/money.html" target="_self">å‰¯ä¸šèµšé’±</a></li>
                <li><a href="/life/writing.html" target="_self">å†™ä½œç›¸å…³</a></li>
                <li><a href="/tag/è¿™æ˜¯ç”Ÿæ´»/" target="_self">ç”Ÿæ´»éšç¬”</a></li>
              </ul>
            </li>
            <li class="has-submenu">
              <a href="#" target="_self">æˆ¿è½¦æ—…è¡Œ</a>
              <ul class="sub-menu">
                <li><a href="/rv.html" target="_self">æˆ¿è½¦ä½“éªŒ</a></li>
                <li><a href="/travels.html" target="_self">æ—…è¡Œæ¸¸è®°</a></li>
                <li><a href="/travel/china.html" target="_self">æ—…è¡Œåœ°å›¾</a></li>
              </ul>
            </li>
            <li><a href="/tag/index.html" target="_self">æ ‡ç­¾</a></li>
            <li><a href="/archive.html" target="_self">å½’æ¡£</a></li>
          <li class="search"><a href="/search.html" target="_self">ğŸ”</a></li>
        </ul>
      </nav>
    </div>
  </div>

  <header>
    <div class="container">
      <a href="/">
        <div class="name">è¿ç»´å’–å•¡å§</div>
        <div class="slogan">äº«å—æŠ€æœ¯å¸¦æ¥çš„ä¹è¶£ï¼Œä½“éªŒç”Ÿæ´»ç»™äºˆçš„æ„ŸåŠ¨</div>
      </a>
    </div>
  </header>

  <div id="content-wrap">
    <div class="container">
        <h1 id="art-title">MySQL EXPLAINç»“æœé›†åˆ†æ - é™„å¸¦å¤§é‡æ¡ˆä¾‹</h1>

        <blockquote>
<p>å¤§é‡å®ä¾‹åŠ©ä½ çœ‹æ‡‚Explainçš„è¾“å‡ºå†…å®¹ï¼Œè½»æ¾æå®šæ…¢æŸ¥è¯¢</p>
</blockquote>
<p>EXPLAINï¼šæŸ¥çœ‹SQLè¯­å¥çš„æ‰§è¡Œè®¡åˆ’</p>
<p>EXPLAINå‘½ä»¤å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ·±å…¥äº†è§£MySQLåŸºäºå¼€é”€çš„ä¼˜åŒ–å™¨ï¼Œè¿˜å¯ä»¥è·å¾—å¾ˆå¤šå¯èƒ½è¢«ä¼˜åŒ–å™¨è€ƒè™‘åˆ°çš„è®¿é—®ç­–ç•¥çš„ç»†èŠ‚ï¼Œä»¥åŠå½“è¿è¡ŒSQLè¯­å¥æ—¶å“ªç§ç­–ç•¥é¢„è®¡ä¼šè¢«ä¼˜åŒ–å™¨é‡‡ç”¨ï¼Œåœ¨ä¼˜åŒ–æ…¢æŸ¥è¯¢æ—¶éå¸¸æœ‰ç”¨</p>
<p>æ‰§è¡Œexplainä¹‹åç»“æœé›†åŒ…å«å¦‚ä¸‹ä¿¡æ¯</p>
<pre class="codehilite"><code>+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------+
| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows   | filtered | Extra |
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------+</code></pre>


<p>ä¸‹é¢å°†å¯¹æ¯ä¸€ä¸ªå€¼è¿›è¡Œè§£é‡Š</p>
<h4 id="1id">1ã€id</h4>
<p>idç”¨æ¥æ ‡è¯†æ•´ä¸ªæŸ¥è¯¢ä¸­SELELCTè¯­å¥çš„é¡ºåºï¼Œåœ¨åµŒå¥—æŸ¥è¯¢ä¸­idè¶Šå¤§çš„è¯­å¥è¶Šå…ˆæ‰§è¡Œï¼Œè¯¥å€¼å¯èƒ½ä¸ºNULL</p>
<p>idå¦‚æœç›¸åŒï¼Œä»ä¸Šå¾€ä¸‹ä¾æ¬¡æ‰§è¡Œã€‚idä¸åŒï¼Œidå€¼è¶Šå¤§ï¼Œæ‰§è¡Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œå¦‚æœè¡Œå¼•ç”¨å…¶ä»–è¡Œçš„å¹¶é›†ç»“æœï¼Œåˆ™è¯¥å€¼å¯ä»¥ä¸ºNULL</p>
<h4 id="2select_type">2ã€select_type</h4>
<p>select_typeè¡¨ç¤ºæŸ¥è¯¢ä½¿ç”¨çš„ç±»å‹ï¼Œæœ‰ä¸‹é¢å‡ ç§ï¼š</p>
<p><strong>simpleï¼š</strong> ç®€å•çš„selectæŸ¥è¯¢ï¼Œæ²¡æœ‰unionæˆ–è€…å­æŸ¥è¯¢</p>
<pre class="codehilite"><code>mysql&gt; explain select * from  test where id = 1000;
+----+-------------+-------+------------+-------+---------------+---------+---------+-------+------+----------+-------+
| id | select_type | table | partitions | type  | possible_keys | key     | key_len | ref   | rows | filtered | Extra |
+----+-------------+-------+------------+-------+---------------+---------+---------+-------+------+----------+-------+
|  1 | SIMPLE      | test  | NULL       | const | PRIMARY       | PRIMARY | 4       | const |    1 |   100.00 | NULL  |
+----+-------------+-------+------------+-------+---------------+---------+---------+-------+------+----------+-------+</code></pre>


<p><strong>primaryï¼š</strong> æœ€å¤–å±‚çš„selectæŸ¥è¯¢</p>
<pre class="codehilite"><code>mysql&gt; explain select * from (select * from test where id = 1000) a;
+----+-------------+------------+--------+---------------+---------+---------+-------+------+-------+
| id | select_type | table      | type   | possible_keys | key     | key_len | ref   | rows | Extra |
+----+-------------+------------+--------+---------------+---------+---------+-------+------+-------+
|  1 | PRIMARY     | &lt;derived2&gt; | system | NULL          | NULL    | NULL    | NULL  |    1 | NULL  |
|  2 | DERIVED     | test       | const  | PRIMARY       | PRIMARY | 8       | const |    1 | NULL  |
+----+-------------+------------+--------+---------------+---------+---------+-------+------+-------+</code></pre>


<p><strong>unionï¼š</strong> unionä¸­çš„ç¬¬äºŒä¸ªæˆ–éšåçš„selectæŸ¥è¯¢ï¼Œä¸ä¾èµ–äºå¤–éƒ¨æŸ¥è¯¢çš„ç»“æœé›†</p>
<pre class="codehilite"><code>mysql&gt; explain select * from test where id = 1000 union all select * from test2 ;
+----+--------------+------------+-------+---------------+---------+---------+-------+-------+-----------------+
| id | select_type  | table      | type  | possible_keys | key     | key_len | ref   | rows  | Extra           |
+----+--------------+------------+-------+---------------+---------+---------+-------+-------+-----------------+
|  1 | PRIMARY      | test       | const | PRIMARY       | PRIMARY | 8       | const |     1 | NULL            |
|  2 | UNION        | test2      | ALL   | NULL          | NULL    | NULL    | NULL  | 67993 | NULL            |
| NULL | UNION RESULT | &lt;union1,2&gt; | ALL   | NULL          | NULL    | NULL    | NULL  |  NULL | Using temporary |
+----+--------------+------------+-------+---------------+---------+---------+-------+-------+-----------------+</code></pre>


<p><strong>dependent unionï¼š</strong> unionä¸­çš„ç¬¬äºŒä¸ªæˆ–éšåçš„selectæŸ¥è¯¢ï¼Œä¾èµ–äºå¤–éƒ¨æŸ¥è¯¢çš„ç»“æœé›†</p>
<pre class="codehilite"><code>mysql&gt; explain select * from test where id in (select id  from test where id = 1000 union all select id from test2) ;
+----+--------------------+------------+--------+---------------+---------+---------+-------+-------+-----------------+
| id | select_type        | table      | type   | possible_keys | key     | key_len | ref   | rows  | Extra           |
+----+--------------------+------------+--------+---------------+---------+---------+-------+-------+-----------------+
|  1 | PRIMARY            | test       | ALL    | NULL          | NULL    | NULL    | NULL  | 68505 | Using where     |
|  2 | DEPENDENT SUBQUERY | test       | const  | PRIMARY       | PRIMARY | 8       | const |     1 | Using index     |
|  3 | DEPENDENT UNION    | test2      | eq_ref | PRIMARY       | PRIMARY | 8       | func  |     1 | Using index     |
| NULL | UNION RESULT       | &lt;union2,3&gt; | ALL    | NULL          | NULL    | NULL    | NULL  |  NULL | Using temporary |
+----+--------------------+------------+--------+---------------+---------+---------+-------+-------+-----------------+</code></pre>


<p><strong>subqueryï¼š</strong> å­æŸ¥è¯¢ä¸­çš„ç¬¬ä¸€ä¸ªselectæŸ¥è¯¢ï¼Œä¸ä¾èµ–ä¸å¤–éƒ¨æŸ¥è¯¢çš„ç»“æœé›†</p>
<pre class="codehilite"><code>mysql&gt; explain select * from test where id = (select id from test where id = 1000);
+----+-------------+-------+-------+---------------+---------+---------+-------+------+-------------+
| id | select_type | table | type  | possible_keys | key     | key_len | ref   | rows | Extra       |
+----+-------------+-------+-------+---------------+---------+---------+-------+------+-------------+
|  1 | PRIMARY     | test  | const | PRIMARY       | PRIMARY | 8       | const |    1 | NULL        |
|  2 | SUBQUERY    | test  | const | PRIMARY       | PRIMARY | 8       | const |    1 | Using index |
+----+-------------+-------+-------+---------------+---------+---------+-------+------+-------------+</code></pre>


<p><strong>dependent subqueryï¼š</strong> å­æŸ¥è¯¢ä¸­çš„ç¬¬ä¸€ä¸ªselectæŸ¥è¯¢ï¼Œä¾èµ–äºå¤–éƒ¨æŸ¥è¯¢çš„ç»“æœé›†</p>
<pre class="codehilite"><code>mysql&gt; explain select * from test where id in (select id  from test where id = 1000 union all select id from test2) ;
+----+--------------------+------------+--------+---------------+---------+---------+-------+-------+-----------------+
| id | select_type        | table      | type   | possible_keys | key     | key_len | ref   | rows  | Extra           |
+----+--------------------+------------+--------+---------------+---------+---------+-------+-------+-----------------+
|  1 | PRIMARY            | test       | ALL    | NULL          | NULL    | NULL    | NULL  | 68505 | Using where     |
|  2 | DEPENDENT SUBQUERY | test       | const  | PRIMARY       | PRIMARY | 8       | const |     1 | Using index     |
|  3 | DEPENDENT UNION    | test2      | eq_ref | PRIMARY       | PRIMARY | 8       | func  |     1 | Using index     |
| NULL | UNION RESULT       | &lt;union2,3&gt; | ALL    | NULL          | NULL    | NULL    | NULL  |  NULL | Using temporary |
+----+--------------------+------------+--------+---------------+---------+---------+-------+-------+-----------------+</code></pre>


<p><strong>derivedï¼š</strong> ç”¨äºfromå­å¥ä¸­æœ‰å­æŸ¥è¯¢çš„æƒ…å†µï¼Œmysqlä¼šé€’å½’æ‰§è¡Œè¿™äº›å­æŸ¥è¯¢ï¼Œæ­¤ç»“æœé›†æ”¾åœ¨ä¸´æ—¶è¡¨ä¸­</p>
<pre class="codehilite"><code>mysql&gt; explain select * from (select * from test2 where id = 1000)a;
+----+-------------+------------+--------+---------------+---------+---------+-------+------+-------+
| id | select_type | table      | type   | possible_keys | key     | key_len | ref   | rows | Extra |
+----+-------------+------------+--------+---------------+---------+---------+-------+------+-------+
|  1 | PRIMARY     | &lt;derived2&gt; | system | NULL          | NULL    | NULL    | NULL  |    1 | NULL  |
|  2 | DERIVED     | test2      | const  | PRIMARY       | PRIMARY | 8       | const |    1 | NULL  |
+----+-------------+------------+--------+---------------+---------+---------+-------+------+-------+</code></pre>


<h4 id="3table">3ã€table</h4>
<p>tableç”¨æ¥è¡¨ç¤ºè¾“å‡ºè¡Œæ‰€å¼•ç”¨çš„è¡¨å</p>
<h4 id="4type">4ã€typeï¼ˆé‡è¦ï¼‰</h4>
<p>typeè¡¨ç¤ºè®¿é—®ç±»å‹ï¼Œä¸‹é¢ä¾æ¬¡è§£é‡Šå„ç§ç±»å‹ï¼Œç±»å‹é¡ºåºä»<strong>æœ€å¥½åˆ°æœ€å·®</strong>æ’åˆ—</p>
<p><strong>systemï¼š</strong> è¡¨ä»…æœ‰ä¸€è¡Œï¼Œæ˜¯constç±»å‹çš„ä¸€ä¸ªç‰¹ä¾‹</p>
<pre class="codehilite"><code>mysql&gt; explain select * from (select * from test2 where id = 1000)a;
+----+-------------+------------+--------+---------------+---------+---------+-------+------+-------+
| id | select_type | table      | type   | possible_keys | key     | key_len | ref   | rows | Extra |
+----+-------------+------------+--------+---------------+---------+---------+-------+------+-------+
|  1 | PRIMARY     | &lt;derived2&gt; | system | NULL          | NULL    | NULL    | NULL  |    1 | NULL  |
|  2 | DERIVED     | test2      | const  | PRIMARY       | PRIMARY | 8       | const |    1 | NULL  |
+----+-------------+------------+--------+---------------+---------+---------+-------+------+-------+</code></pre>


<p>å› ä¸ºå­æŸ¥è¯¢åªæœ‰ä¸€è¡Œæ•°æ®ï¼Œæ¨¡æ‹Ÿäº†å•è¡¨åªæœ‰ä¸€è¡Œæ•°æ®ï¼Œæ­¤æ—¶typeä¸ºsystem</p>
<p><strong>constï¼š</strong> ç¡®å®šåªæœ‰ä¸€è¡ŒåŒ¹é…çš„æ—¶å€™ï¼Œmysqlä¼˜åŒ–å™¨ä¼šåœ¨æŸ¥è¯¢å‰è¯»å–å®ƒå¹¶ä¸”åªè¯»å–ä¸€æ¬¡ï¼Œé€Ÿåº¦éå¸¸å¿«</p>
<pre class="codehilite"><code>mysql&gt; explain select * from test where id =1 ;
+----+-------------+-------+-------+---------------+---------+---------+-------+------+-------+
| id | select_type | table | type  | possible_keys | key     | key_len | ref   | rows | Extra |
+----+-------------+-------+-------+---------------+---------+---------+-------+------+-------+
|  1 | SIMPLE      | test  | const | PRIMARY       | PRIMARY | 8       | const |    1 | NULL  |
+----+-------------+-------+-------+---------------+---------+---------+-------+------+-------+
1 row in set (0.00 sec)</code></pre>


<p><strong>eq_refï¼š</strong> å¯¹äºæ¯ä¸ªæ¥è‡ªäºå‰é¢çš„è¡¨çš„è¡Œç»„åˆï¼Œä»è¯¥è¡¨ä¸­è¯»å–ä¸€è¡Œï¼Œå¸¸ç”¨åœ¨ä¸€ä¸ªç´¢å¼•æ˜¯unique keyæˆ–è€…primary key</p>
<pre class="codehilite"><code>mysql&gt; explain select * from test,test2 where test.com_key=test2.com_key;
+----+-------------+-------+--------+---------------+--------------+---------+--------------------+-------+-------+
| id | select_type | table | type   | possible_keys | key          | key_len | ref                | rows  | Extra |
+----+-------------+-------+--------+---------------+--------------+---------+--------------------+-------+-------+
|  1 | SIMPLE      | test2 | ALL    | IDX(com_key)  | NULL         | NULL    | NULL               | 67993 | NULL  |
|  1 | SIMPLE      | test  | eq_ref | IDX(com_key)  | IDX(com_key) | 194     | test.test2.com_key |     1 | NULL  |
+----+-------------+-------+--------+---------------+--------------+---------+--------------------+-------+-------+</code></pre>


<p><strong>refï¼š</strong> å¯¹äºæ¥è‡ªå‰é¢çš„è¡¨çš„è¡Œç»„åˆï¼Œæ‰€æœ‰æœ‰åŒ¹é…ç´¢å¼•å€¼çš„è¡Œéƒ½ä»è¿™å¼ è¡¨ä¸­è¯»å–,å¦‚æœè”æ¥åªä½¿ç”¨é”®çš„æœ€å·¦è¾¹çš„å‰ç¼€ï¼Œæˆ–å¦‚æœé”®ä¸æ˜¯UNIQUEæˆ–PRIMARY KEYï¼ˆæ¢å¥è¯è¯´ï¼Œå¦‚æœè”æ¥ä¸èƒ½åŸºäºå…³é”®å­—é€‰æ‹©å•ä¸ªè¡Œçš„è¯ï¼‰ï¼Œåˆ™ä½¿ç”¨ref</p>
<p>refå¯ä»¥ç”¨äºä½¿ç”¨=æˆ–&lt;=&gt;æ“ä½œç¬¦çš„å¸¦ç´¢å¼•çš„åˆ—</p>
<pre class="codehilite"><code>mysql&gt; explain select * from test ,test2 where test.bnet_id=test2.aid;
+----+-------------+-------+------+---------------+---------+---------+-------------------+-------+-----------------------+
| id | select_type | table | type | possible_keys | key     | key_len | ref               | rows  | Extra                 |
+----+-------------+-------+------+---------------+---------+---------+-------------------+-------+-----------------------+
|  1 | SIMPLE      | test  | ALL  | NULL          | NULL    | NULL    | NULL              | 68505 | Using where           |
|  1 | SIMPLE      | test2 | ref  | idx_aid       | idx_aid | 5       | test.test.bnet_id | 34266 | Using index condition |
+----+-------------+-------+------+---------------+---------+---------+-------------------+-------+-----------------------+</code></pre>


<p>testè¡¨<code>bnet_id</code>ä¸æ˜¯ç´¢å¼•ï¼Œtest2è¡¨<code>aid</code>ä¸ºç´¢å¼•åˆ—</p>
<p><strong>ref_or_nullï¼š</strong> ç±»ä¼¼refï¼Œä½†æ˜¯æ·»åŠ äº†å¯ä»¥ä¸“é—¨æœç´¢nullå€¼çš„è¡Œ</p>
<pre class="codehilite"><code>mysql&gt; explain select * from test where bnet_id=1 or bnet_id is null;
+----+-------------+-------+-------------+---------------+----------+---------+-------+------+-----------------------+
| id | select_type | table | type        | possible_keys | key      | key_len | ref   | rows | Extra                 |
+----+-------------+-------+-------------+---------------+----------+---------+-------+------+-----------------------+
|  1 | SIMPLE      | test  | ref_or_null | idx_bnet      | idx_bnet | 9       | const |    2 | Using index condition |
+----+-------------+-------+-------------+---------------+----------+---------+-------+------+-----------------------+</code></pre>


<p>å‰æä¸º<code>bnet_id</code>åˆ—ä¸ºç´¢å¼•ï¼Œä¸”<code>bnet_id</code>åˆ—æœ‰nullå€¼</p>
<p><strong>index_mergeï¼š</strong> è¯¥è®¿é—®ç±»å‹ä½¿ç”¨äº†ç´¢å¼•åˆå¹¶ä¼˜åŒ–æ–¹æ³•ï¼Œkeyåˆ—åŒ…å«äº†ä½¿ç”¨çš„ç´¢å¼•çš„æ¸…å•ï¼Œkey_lenåŒ…å«äº†ä½¿ç”¨çš„ç´¢å¼•çš„æœ€é•¿çš„å…³é”®å…ƒç´ </p>
<pre class="codehilite"><code>mysql&gt; explain select * from test where id  = 1 or bnet_id = 1;
+----+-------------+-------+-------------+------------------+------------------+---------+------+------+--------------------------------------------+
| id | select_type | table | type        | possible_keys    | key              | key_len | ref  | rows | Extra                                      |
+----+-------------+-------+-------------+------------------+------------------+---------+------+------+--------------------------------------------+
|  1 | SIMPLE      | test  | index_merge | PRIMARY,idx_bnet | PRIMARY,idx_bnet | 8,9     | NULL |    2 | Using union(PRIMARY,idx_bnet); Using where |
+----+-------------+-------+-------------+------------------+------------------+---------+------+------+--------------------------------------------+</code></pre>


<p>å‰ææ¡ä»¶ä¸º<code>id</code>åˆ—å’Œ<code>bnet_id</code>åˆ—éƒ½æœ‰å•åˆ—ç´¢å¼•ã€‚å¦‚æœå‡ºç°index_mergeï¼Œå¹¶ä¸”è¿™ç±»SQLåæœŸä½¿ç”¨è¾ƒé¢‘ç¹ï¼Œå¯ä»¥è€ƒè™‘æŠŠå•åˆ—ç´¢å¼•æ¢ä¸ºç»„åˆç´¢å¼•ï¼Œè¿™æ ·æ•ˆç‡æ›´é«˜</p>
<p><strong>rangeï¼š</strong> åªæ£€ç´¢ç»™å®šèŒƒå›´çš„è¡Œï¼Œä½¿ç”¨ä¸€ä¸ªç´¢å¼•æ¥é€‰æ‹©è¡Œã€‚keyåˆ—æ˜¾ç¤ºä½¿ç”¨äº†å“ªä¸ªç´¢å¼•ã€‚key_lenåŒ…å«æ‰€ä½¿ç”¨ç´¢å¼•çš„æœ€é•¿å…³é”®å…ƒç´ ã€‚åœ¨è¯¥ç±»å‹ä¸­refåˆ—ä¸ºNULL</p>
<p>å½“ä½¿ç”¨=ã€&lt;&gt;ã€&gt;ã€&gt;=ã€&lt;ã€&lt;=ã€IS NULLã€&lt;=&gt;ã€BETWEENæˆ–è€…INæ“ä½œç¬¦ï¼Œç”¨å¸¸é‡æ¯”è¾ƒå…³é”®å­—åˆ—æ—¶ï¼Œå¯ä»¥ä½¿ç”¨range</p>
<pre class="codehilite"><code>mysql&gt; explain select * from test where bnet_id &gt; 1000 and  bnet_id &lt; 10000;
+----+-------------+-------+-------+---------------+----------+---------+------+------+-----------------------+
| id | select_type | table | type  | possible_keys | key      | key_len | ref  | rows | Extra                 |
+----+-------------+-------+-------+---------------+----------+---------+------+------+-----------------------+
|  1 | SIMPLE      | test  | range | idx_bnet      | idx_bnet | 9       | NULL |    1 | Using index condition |
+----+-------------+-------+-------+---------------+----------+---------+------+------+-----------------------+</code></pre>


<p>å‰ææ¡ä»¶ä¸º<code>bnet_id</code>åˆ—æœ‰ç´¢å¼•</p>
<p><strong>indexï¼š</strong> åœ¨è¿›è¡Œç»Ÿè®¡æ—¶éå¸¸å¸¸è§ï¼Œæ­¤è”æ¥ç±»å‹å®é™…ä¸Šä¼šæ‰«æç´¢å¼•æ ‘</p>
<pre class="codehilite"><code>mysql&gt; explain select count(*) from test;
+----+-------------+-------+-------+---------------+----------+---------+------+-------+-------------+
| id | select_type | table | type  | possible_keys | key      | key_len | ref  | rows  | Extra       |
+----+-------------+-------+-------+---------------+----------+---------+------+-------+-------------+
|  1 | SIMPLE      | test  | index | NULL          | idx_bnet | 9       | NULL | 68505 | Using index |
+----+-------------+-------+-------+---------------+----------+---------+------+-------+-------------+</code></pre>


<p><strong>allï¼š</strong> å¯¹äºæ¯ä¸ªæ¥è‡ªäºå…ˆå‰çš„è¡¨çš„è¡Œç»„åˆï¼Œè¿›è¡Œå®Œæ•´çš„è¡¨æ‰«æï¼Œé€šå¸¸å¯ä»¥å¢åŠ æ›´å¤šçš„ç´¢å¼•è€Œä¸è¦ä½¿ç”¨ALLï¼Œä½¿å¾—è¡Œèƒ½åŸºäºå‰é¢çš„è¡¨ä¸­çš„å¸¸æ•°å€¼æˆ–åˆ—å€¼è¢«æ£€ç´¢å‡º</p>
<pre class="codehilite"><code>mysql&gt; explain select *  from test where create_time = '0000-00-00 00:00:00';
+----+-------------+-------+------+---------------+------+---------+------+-------+-------------+
| id | select_type | table | type | possible_keys | key  | key_len | ref  | rows  | Extra       |
+----+-------------+-------+------+---------------+------+---------+------+-------+-------------+
|  1 | SIMPLE      | test  | ALL  | NULL          | NULL | NULL    | NULL | 68505 | Using where |
+----+-------------+-------+------+---------------+------+---------+------+-------+-------------+</code></pre>


<h4 id="5possible_keys">5ã€possible_keys</h4>
<p>possible_keysæ˜¯æŒ‡åœ¨è¿™ä¸ªSQLä¸­ï¼Œmysqlå¯ä»¥ä½¿ç”¨è¿™ä¸ªç´¢å¼•å»è¾…åŠ©æŸ¥æ‰¾è®°å½•ï¼Œå½“æŸ¥è¯¢æ¶‰åŠåˆ°çš„å­—æ®µï¼Œéƒ½ä¼šè¢«åˆ—å‡ºï¼Œä½†ä¸ä¸€å®šè¢«æŸ¥è¯¢ä½¿ç”¨.è‹¥ä¸ºç©ºåˆ™è¡¨ç¤ºæ²¡æœ‰å¯ä»¥ä½¿ç”¨çš„ç´¢å¼•ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡æ£€æŸ¥whereè¯­å¥çœ‹æ˜¯å¦å¯ä»¥å¼•ç”¨æŸäº›åˆ—æˆ–è€…æ–°å»ºç´¢å¼•æ¥æé«˜æ€§èƒ½ã€‚</p>
<h4 id="6key">6ã€keyï¼ˆé‡è¦ï¼‰</h4>
<p>keyåˆ—æ˜¾ç¤ºçš„æ˜¯å½“å‰è¡¨å®é™…ä½¿ç”¨çš„ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰é€‰æ‹©ç´¢å¼•ï¼Œåˆ™æ­¤åˆ—ä¸ºnullï¼Œè¦æƒ³å¼ºåˆ¶MySQLä½¿ç”¨æˆ–å¿½è§†possible_keysåˆ—ä¸­çš„ç´¢å¼•ï¼Œåœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨FORCE INDEXã€USE INDEXæˆ–è€…IGNORE INDEX</p>
<h4 id="7key_len">7ã€key_len</h4>
<p>key_lenåˆ—æ˜¾ç¤ºMySQLå†³å®šä½¿ç”¨çš„é”®é•¿åº¦ã€‚å¦‚æœKEYé”®æ˜¯NULLï¼Œåˆ™é•¿åº¦ä¸ºNULLã€‚<strong>åœ¨ä¸æŸå¤±ç²¾ç¡®æ€§çš„æƒ…å†µä¸‹ï¼Œé•¿åº¦è¶ŠçŸ­è¶Šå¥½</strong></p>
<p>key lençš„é•¿åº¦è¿˜å’Œå­—ç¬¦é›†æœ‰å…³,latin1ä¸€ä¸ªå­—ç¬¦å ç”¨1ä¸ªå­—èŠ‚,gbkä¸€ä¸ªå­—ç¬¦å ç”¨2ä¸ªå­—èŠ‚,utf8ä¸€ä¸ªå­—ç¬¦å ç”¨3ä¸ªå­—èŠ‚ã€‚key_lençš„è®¡ç®—æ³•æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th>åˆ—ç±»å‹</th>
<th>KEY_LEN</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>id int</td>
<td>key_len = 4+1</td>
<td>intä¸º4bytes,å…è®¸ä¸ºNULL,åŠ 1byte</td>
</tr>
<tr>
<td>id bigint not null</td>
<td>key_len=8</td>
<td>bigintä¸º8bytes</td>
</tr>
<tr>
<td>user char(30) utf8</td>
<td>key_len=30*3+1</td>
<td>utf8æ¯ä¸ªå­—ç¬¦ä¸º3bytes,å…è®¸ä¸ºNULL,åŠ 1byte</td>
</tr>
<tr>
<td>user varchar(30) not null utf8</td>
<td>key_len=30*3+2</td>
<td>utf8æ¯ä¸ªå­—ç¬¦ä¸º3bytes,å˜é•¿æ•°æ®ç±»å‹,åŠ 2bytes</td>
</tr>
<tr>
<td>user varchar(30) utf8</td>
<td>key_len=30*3+2+1</td>
<td>utf8æ¯ä¸ªå­—ç¬¦ä¸º3bytes,å…è®¸ä¸ºNULL,åŠ 1byte,å˜é•¿æ•°æ®ç±»å‹,åŠ 2bytes</td>
</tr>
<tr>
<td>detail text(10) utf8</td>
<td>key_len=30*3+2+1</td>
<td>TEXTæˆªå–éƒ¨åˆ†,è¢«è§†ä¸ºåŠ¨æ€åˆ—ç±»å‹ã€‚</td>
</tr>
</tbody>
</table>
<p>key_lenåªæŒ‡ç¤ºäº†whereä¸­ç”¨äºæ¡ä»¶è¿‡æ»¤æ—¶è¢«é€‰ä¸­çš„ç´¢å¼•åˆ—ï¼Œæ˜¯ä¸åŒ…å«<code>order by</code>æˆ–<code>group by</code>è¿™ä¸€éƒ¨åˆ†è¢«é€‰ä¸­çš„ç´¢å¼•åˆ—</p>
<h4 id="8ref">8ã€ref</h4>
<p>refåˆ—ç”¨æ¥æ˜¾ç¤ºä½¿ç”¨å“ªä¸ªåˆ—æˆ–å¸¸æ•°ä¸keyä¸€èµ·ä»è¡¨ä¸­é€‰æ‹©ç›¸åº”çš„è¡Œã€‚å®ƒæ˜¾ç¤ºçš„åˆ—çš„åå­—ï¼ˆæˆ–constï¼‰ï¼Œæ­¤åˆ—å¤šæ•°æ—¶å€™ä¸ºnull</p>
<h4 id="9rows">9ã€rows</h4>
<p>rowsåˆ—æ˜¾ç¤ºçš„æ˜¯mysqlè§£æå™¨è®¤ä¸ºæ‰§è¡Œæ­¤SQLæ—¶å¿…é¡»æ‰«æçš„è¡Œæ•°ã€‚æ­¤æ•°å€¼ä¸ºä¸€ä¸ªé¢„ä¼°å€¼ï¼Œä¸æ˜¯å…·ä½“å€¼ï¼Œé€šå¸¸æ¯”å®é™…å€¼å°</p>
<h4 id="10filtered">10ã€filtered</h4>
<p>æ­¤å‚æ•°ä¸º<strong>mysql 5.7 æ–°åŠ å‚æ•°</strong>ï¼ŒæŒ‡çš„æ˜¯è¿”å›ç»“æœçš„è¡Œæ•°æ‰€å éœ€è¦è¯»åˆ°çš„è¡Œï¼ˆrowsçš„å€¼ï¼‰çš„æ¯”ä¾‹
å¯¹äºä½¿ç”¨joinæ—¶ï¼Œå‰ä¸€ä¸ªè¡¨çš„ç»“æœé›†å¤§å°ç›´æ¥å½±å“äº†å¾ªç¯çš„è¡Œæ•°</p>
<h4 id="11extra">11ã€extraï¼ˆé‡è¦ï¼‰</h4>
<p>extraè¡¨ç¤ºä¸åœ¨å…¶ä»–åˆ—å¹¶ä¸”ä¹Ÿå¾ˆé‡è¦çš„é¢å¤–ä¿¡æ¯</p>
<p><strong>using indexï¼š</strong> è¯¥å€¼è¡¨ç¤ºè¿™ä¸ªSQLè¯­å¥ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•ï¼ˆè¦†ç›–ç´¢å¼•æ˜¯æŒ‡å¯ä»¥ç›´æ¥åœ¨ç´¢å¼•åˆ—ä¸­å¾—åˆ°æƒ³è¦çš„ç»“æœï¼Œè€Œä¸ç”¨å»å›è¡¨ï¼‰ï¼Œæ­¤æ—¶æ•ˆç‡æœ€é«˜</p>
<pre class="codehilite"><code>mysql&gt; explain select id from test;
+----+-------------+-------+-------+---------------+----------+---------+------+-------+-------------+
| id | select_type | table | type  | possible_keys | key      | key_len | ref  | rows  | Extra       |
+----+-------------+-------+-------+---------------+----------+---------+------+-------+-------------+
|  1 | SIMPLE      | test  | index | NULL          | idx_bnet | 9       | NULL | 68505 | Using index |
+----+-------------+-------+-------+---------------+----------+---------+------+-------+-------------+</code></pre>


<p>è¿™ä¸ªä¾‹å­ä¸­<code>id</code>å­—æ®µä¸ºä¸»é”®ï¼Œä½†æ˜¯keyé‚£é‡Œæ˜¾ç¤ºèµ°çš„å¹¶ä¸æ˜¯ä¸»é”®ç´¢å¼•ï¼Œè¿™ä¸ªæ˜¯å› ä¸ºmysqlçš„æ‰€æœ‰äºŒçº§ç´¢å¼•ä¸­éƒ½ä¼šåŒ…å«æ‰€æœ‰çš„ä¸»é”®ä¿¡æ¯ï¼Œè€Œmysqlæ²¡æœ‰å•ç‹¬çš„å­˜å‚¨ä¸»é”®ç´¢å¼•ï¼Œæ‰€ä»¥æ‰«æäºŒçº§ç´¢å¼•çš„å¼€é”€æ¯”å…¨è¡¨æ‰«ææ›´å¿«</p>
<p><strong>using whereï¼š</strong> è¡¨ç¤ºå­˜å‚¨å¼•æ“æœåˆ°è®°å½•åè¿›è¡Œäº†åè¿‡æ»¤(POST-FILTER)ï¼Œå¦‚æœæŸ¥è¯¢æœªèƒ½ä½¿ç”¨ç´¢å¼•ï¼Œusing whereçš„ä½œç”¨åªæ˜¯æé†’æˆ‘ä»¬mysqlè¦ç”¨whereæ¡ä»¶è¿‡æ»¤ç»“æœé›†</p>
<pre class="codehilite"><code>mysql&gt; explain select * from test where id &gt; 1;
+----+-------------+-------+-------+---------------+---------+---------+------+-------+-------------+
| id | select_type | table | type  | possible_keys | key     | key_len | ref  | rows  | Extra       |
+----+-------------+-------+-------+---------------+---------+---------+------+-------+-------------+
|  1 | SIMPLE      | test  | range | PRIMARY       | PRIMARY | 8       | NULL | 34252 | Using where |
+----+-------------+-------+-------+---------------+---------+---------+------+-------+-------------+</code></pre>


<p><strong>using temporary</strong> è¡¨ç¤ºmysqléœ€è¦ä½¿ç”¨ä¸´æ—¶è¡¨æ¥å­˜å‚¨ç»“æœé›†ï¼Œå¸¸è§äºæ’åºå’Œåˆ†ç»„æŸ¥è¯¢</p>
<pre class="codehilite"><code>mysql&gt; explain select * from test where id in (1,2) group by bnet_id;
+----+-------------+-------+-------+-----------------------------------------+---------+---------+------+------+----------------------------------------------+
| id | select_type | table | type  | possible_keys                           | key     | key_len | ref  | rows | Extra                                        |
+----+-------------+-------+-------+-----------------------------------------+---------+---------+------+------+----------------------------------------------+
|  1 | SIMPLE      | test  | range | PRIMARY,IDX(event_key-bnet_Id),idx_bnet | PRIMARY | 8       | NULL |    2 | Using where; Using temporary; Using filesort |
+----+-------------+-------+-------+-----------------------------------------+---------+---------+------+------+----------------------------------------------+</code></pre>


<p><strong>using filesortï¼š</strong> æ˜¯æŒ‡mysqlæ— æ³•åˆ©ç”¨ç´¢å¼•ç›´æ¥å®Œæˆæ’åºï¼ˆæ’åºçš„å­—æ®µä¸æ˜¯ç´¢å¼•å­—æ®µï¼‰ï¼Œæ­¤æ—¶ä¼šç”¨åˆ°ç¼“å†²ç©ºé—´æ¥è¿›è¡Œæ’åº</p>
<pre class="codehilite"><code>mysql&gt; explain select * from test order by bnet_id;
+----+-------------+-------+------+---------------+------+---------+------+-------+----------------+
| id | select_type | table | type | possible_keys | key  | key_len | ref  | rows  | Extra          |
+----+-------------+-------+------+---------------+------+---------+------+-------+----------------+
|  1 | SIMPLE      | test  | ALL  | NULL          | NULL | NULL    | NULL | 68505 | Using filesort |
+----+-------------+-------+------+---------------+------+---------+------+-------+----------------+</code></pre>


<p><strong>using join bufferï¼š</strong> å¼ºè°ƒåœ¨è·å–è¿æ¥æ¡ä»¶æ—¶æ²¡æœ‰ç”¨åˆ°ç´¢å¼•ï¼Œå¹¶ä¸”éœ€è¦è¿æ¥ç¼“å†²åŒºæ¥å­˜å‚¨ä¸­é—´ç»“æœã€‚ï¼ˆæ€§èƒ½å¯ä»¥é€šè¿‡æ·»åŠ ç´¢å¼•æˆ–è€…ä¿®æ”¹è¿æ¥å­—æ®µæ”¹è¿›ï¼‰</p>
<pre class="codehilite"><code>mysql&gt; explain select * from test left join test2 on test.create_time = test2.create_time;
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+----------------------------------------------------+
| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows   | filtered | Extra                                              |
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+----------------------------------------------------+
|  1 | SIMPLE      | test  | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 959692 |   100.00 | NULL                                               |
|  1 | SIMPLE      | test2 | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 958353 |   100.00 | Using where; Using join buffer (Block Nested Loop) |
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+----------------------------------------------------+
2 rows in set, 1 warning (0.00 sec)</code></pre>


<p>Block Nested Loopæ˜¯æŒ‡Block Nested-Loop Joinç®—æ³•ï¼šå°†å¤–å±‚å¾ªç¯çš„è¡Œ/ç»“æœé›†å­˜å…¥join buffer, å†…å±‚å¾ªç¯çš„æ¯ä¸€è¡Œä¸æ•´ä¸ªbufferä¸­çš„è®°å½•åšæ¯”è¾ƒï¼Œä»è€Œå‡å°‘å†…å±‚å¾ªç¯çš„æ¬¡æ•°.</p>
<p><strong>impossible whereï¼š</strong> è¡¨ç¤ºwhereæ¡ä»¶å¯¼è‡´æ²¡æœ‰è¿”å›çš„è¡Œ</p>
<pre class="codehilite"><code>mysql&gt; explain select * from test where id is null;
+----+-------------+-------+------+---------------+------+---------+------+------+------------------+
| id | select_type | table | type | possible_keys | key  | key_len | ref  | rows | Extra            |
+----+-------------+-------+------+---------------+------+---------+------+------+------------------+
|  1 | SIMPLE      | NULL  | NULL | NULL          | NULL | NULL    | NULL | NULL | Impossible WHERE |
+----+-------------+-------+------+---------------+------+---------+------+------+------------------+</code></pre>


<p><strong>using index conditionï¼š</strong> æ˜¯mysql 5.6 ä¹‹åæ–°åŠ çš„ç‰¹æ€§ï¼Œç»“åˆmysqlçš„ICPï¼ˆIndex Condition Pushdownï¼‰ç‰¹æ€§ä½¿ç”¨ã€‚ä¸»è¦æ˜¯ä¼˜åŒ–äº†å¯ä»¥åœ¨ç´¢å¼•ï¼ˆä»…é™äºŒçº§ç´¢å¼•ï¼‰ä¸Šè¿›è¡Œ like æŸ¥æ‰¾</p>
<p>å¦‚æœextraä¸­å‡ºç°å¤šä¸ªä¸Šé¢ç»“æœï¼Œåˆ™è¡¨ç¤ºé¡ºåºä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•è¿›è¡Œè§£ææŸ¥è¯¢</p>

        <div>
          <ul style="display: inline-block;padding: 0;margin: 0 0 0.5em;color: #999;">
            <li style="display: inline-block;margin: 0 1em 0 0;"><a href="/s/mysql-explain-output-slow-queries.html">ğŸ“… 2019-09-02</a></li>
<li style="display: inline-block;margin: 0 1em 0 0;"><a href="/tag/ç³»ç»Ÿè¿ç»´/">ğŸ·ï¸ ç³»ç»Ÿè¿ç»´</a></li><li style="display: inline-block;margin: 0 1em 0 0;"><a href="/tag/å…³äºæŠ€æœ¯/">ğŸ·ï¸ å…³äºæŠ€æœ¯</a></li>          </ul>
        </div>

        <hr>

        <div class="pagination">
            <a href="https://blog.ops-coffee.cn/s/jingjiabao-browser-plugin.html" class="pagination-item prev-page">
                <span class="pagination-arrow">â†</span>
                <span class="pagination-text">ä¸Šä¸€ç¯‡ï¼š<br>æ’ä»¶æ¨è | è¿™ä¸ªæµè§ˆå™¨æ’ä»¶èƒ½è®©ä½ èººç€èµšé’±</span>
            </a>
            <a href="https://blog.ops-coffee.cn/s/create-test-environment-with-aloid-system.html" class="pagination-item next-page">
                <span class="pagination-text">ä¸‹ä¸€ç¯‡ï¼š<br>Alodiï¼šä¸ºäº†ä¿å¯†æˆ‘å¼€å‘äº†ä¸€ä¸ªç³»ç»Ÿ</span>
                <span class="pagination-arrow">â†’</span>
            </a>
        </div>

        <div class="nav-cell">
    <script async src="https://giscus.app/client.js"
            data-repo="ops-coffee/blog" data-repo-id="MDEwOlJlcG9zaXRvcnkxNDY4OTI0MTg="
            data-category="Announcements" data-category-id="DIC_kwDOCMFmgs4CQar3"
            data-mapping="pathname" data-strict="0" data-reactions-enabled="1"
            data-emit-metadata="0" data-input-position="top" data-theme="light"
            data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous">
    </script>
</div>

        <div>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8944257246828217"
         data-ad-slot="6731434232" data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</div>

        <div class="nav-cell">
            <p class="nav-list-title">èƒ½çœ‹åˆ°è¿™é‡Œä¸€å®šæ˜¯çœŸçˆ±ï¼Œè®¢é˜…ä¸€ä¸‹å§</p>
            <img alt="" loading="lazy" src="/static/images/wx.sou1.png" />
        </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="copy"> Â© ops-coffee</div>

      <div class="link">
        <a href="/comments.html" title="ç»™æˆ‘ç•™è¨€" target="_blank">ç•™è¨€</a>
        <a href="/friends.html" title="å‹æƒ…é“¾æ¥" target="_blank">å‹é“¾</a>
      </div>
    </div>
  </footer>
  
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7VC01SQQTE"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7VC01SQQTE');
</script>

<!-- Google Adsense -->
<script data-ad-client="ca-pub-8944257246828217" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</body>

</html>