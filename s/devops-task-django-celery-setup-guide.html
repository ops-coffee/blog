<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="applicable-device" content="pc,mobile">
  <meta name="keywords" content="åŸç”ŸCelery, Django2.0, å¼‚æ­¥ä»»åŠ¡, å®šæ—¶ä»»åŠ¡, RabbitMQ, ä»»åŠ¡é˜Ÿåˆ—, åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦" />
  <meta name="description" content="æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åœ¨Django2.0ç¯å¢ƒä¸­é…ç½®å’Œä½¿ç”¨åŸç”ŸCeleryè¿›è¡Œå¼‚æ­¥å’Œå®šæ—¶ä»»åŠ¡çš„è°ƒåº¦ï¼Œæ¶µç›–äº†RabbitMQçš„å®‰è£…ã€Celeryçš„é…ç½®ã€å¼‚æ­¥ä»»åŠ¡çš„å®ç°ã€å®šæ—¶ä»»åŠ¡çš„è®¾ç½®ç­‰å†…å®¹ã€‚" />
  <link rel="alternate" type="application/rss+xml" title="è¿ç»´å’–å•¡å§" href="https://blog.ops-coffee.cn/feed.xml" />
  <link rel="stylesheet" href="https://blog.ops-coffee.cn/static/posts/css/ops-coffee.min.css" type="text/css" />

  <!-- Begin SEO tag -->
  <title>Djangoé…ç½®Celeryæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡å’Œå®šæ—¶ä»»åŠ¡</title>
  <meta property="og:locale" content="zh_CN" />
  <meta property="og:site_name" content="è¿ç»´å’–å•¡å§" />
  <meta property="og:url" content="https://blog.ops-coffee.cn" />
  <meta property="og:title" content="Djangoé…ç½®Celeryæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡å’Œå®šæ—¶ä»»åŠ¡" />
  <meta property="og:description" content="æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åœ¨Django2.0ç¯å¢ƒä¸­é…ç½®å’Œä½¿ç”¨åŸç”ŸCeleryè¿›è¡Œå¼‚æ­¥å’Œå®šæ—¶ä»»åŠ¡çš„è°ƒåº¦ï¼Œæ¶µç›–äº†RabbitMQçš„å®‰è£…ã€Celeryçš„é…ç½®ã€å¼‚æ­¥ä»»åŠ¡çš„å®ç°ã€å®šæ—¶ä»»åŠ¡çš„è®¾ç½®ç­‰å†…å®¹ã€‚" />
  <link rel="canonical" href="https://blog.ops-coffee.cn" />
  <!-- End SEO tag -->
</head>

<body>
  <div class="header">
    <div class="menu-button">&#9776; 
        <span class="menu-title">è¿ç»´å’–å•¡å§</span>
    </div> 

    <div class="container no-sidebar">
      <nav class="header-site">
        <ul>
          <li><a href="/">é¦–é¡µ</a></li>
            <li class="has-submenu">
              <a href="#" target="_self">è¿ç»´</a>
              <ul class="sub-menu">
                <li><a href="/tag/ç³»ç»Ÿè¿ç»´/" target="_self">ç³»ç»Ÿè¿ç»´</a></li>
                <li><a href="/elk/index.html" target="_self">ELKç³»åˆ—</a></li>
                <li><a href="/ldap/index.html" target="_self">LDAPç³»åˆ—</a></li>
              </ul>
            </li>
            <li class="has-submenu">
              <a href="#" target="_self">å¼€å‘</a>
              <ul class="sub-menu">
                <li><a href="/tag/Devops/" target="_self">DevOps</a></li>
                <li><a href="/tag/Python/" target="_self">Python</a></li>
                <li><a href="/tag/Django/" target="_self">Django</a></li>
                <li><a href="/bpmn/index.html" target="_self">BPMNç³»åˆ—</a></li>
                <li><a href="/webssh/index.html" target="_self">WebSSHç³»åˆ—</a></li>
                <li><a href="/frontend/index.html" target="_self">å‰ç«¯å¼€å‘ç³»åˆ—</a></li>
              </ul>
            </li>
            <li><a href="/devops/index.html" target="_self">è¿ç»´å¹³å°</a></li>
            <li class="has-submenu">
              <a href="#" target="_self">è¿™æ˜¯ç”Ÿæ´»</a>
              <ul class="sub-menu">
                <li><a href="/life/chronicles.html" target="_self">æ—¶å…‰å°è®°</a></li>
                <li><a href="/life/money.html" target="_self">å‰¯ä¸šèµšé’±</a></li>
                <li><a href="/life/writing.html" target="_self">å†™ä½œç›¸å…³</a></li>
                <li><a href="/tag/è¿™æ˜¯ç”Ÿæ´»/" target="_self">ç”Ÿæ´»éšç¬”</a></li>
              </ul>
            </li>
            <li class="has-submenu">
              <a href="#" target="_self">æˆ¿è½¦æ—…è¡Œ</a>
              <ul class="sub-menu">
                <li><a href="/rv.html" target="_self">æˆ¿è½¦ä½“éªŒ</a></li>
                <li><a href="/travels.html" target="_self">æ—…è¡Œæ¸¸è®°</a></li>
                <li><a href="/travel/china.html" target="_self">æ—…è¡Œåœ°å›¾</a></li>
              </ul>
            </li>
            <li><a href="/tag/index.html" target="_self">æ ‡ç­¾</a></li>
            <li><a href="/archive.html" target="_self">å½’æ¡£</a></li>
          <li class="search"><a href="/search.html" target="_self">ğŸ”</a></li>
        </ul>
      </nav>
    </div>
  </div>

  <header>
    <div class="container no-sidebar">
      <a href="/">
        <div class="name">è¿ç»´å’–å•¡å§</div>
        <div class="slogan">äº«å—æŠ€æœ¯å¸¦æ¥çš„ä¹è¶£ï¼Œä½“éªŒç”Ÿæ´»ç»™äºˆçš„æ„ŸåŠ¨</div>
      </a>
    </div>
  </header>

  <div id="content-wrap">
    <div class="container no-sidebar">
        <h1 id="art-title">Djangoé…ç½®Celeryæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡å’Œå®šæ—¶ä»»åŠ¡</h1>

        <blockquote>
<p>åŸç”ŸCeleryï¼Œédjceleryæ¨¡å—ï¼Œæ‰€æœ‰æ¼”ç¤ºå‡åŸºäºDjango2.0</p>
</blockquote>
<p>celeryæ˜¯ä¸€ä¸ªåŸºäºpythonå¼€å‘çš„ç®€å•ã€çµæ´»ä¸”å¯é çš„åˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—æ¡†æ¶ï¼Œæ”¯æŒä½¿ç”¨ä»»åŠ¡é˜Ÿåˆ—çš„æ–¹å¼åœ¨åˆ†å¸ƒå¼çš„æœºå™¨/è¿›ç¨‹/çº¿ç¨‹ä¸Šæ‰§è¡Œä»»åŠ¡è°ƒåº¦ã€‚é‡‡ç”¨å…¸å‹çš„ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ï¼Œä¸»è¦ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p>
<ol>
<li>æ¶ˆæ¯é˜Ÿåˆ—brokerï¼šbrokerå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªMQé˜Ÿåˆ—æœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨Redisã€RabbitMQç­‰ä½œä¸ºbroker</li>
<li>å¤„ç†ä»»åŠ¡çš„æ¶ˆè´¹è€…workersï¼šbrokeré€šçŸ¥workeré˜Ÿåˆ—ä¸­æœ‰ä»»åŠ¡ï¼Œworkerå»é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡æ‰§è¡Œï¼Œæ¯ä¸€ä¸ªworkerå°±æ˜¯ä¸€ä¸ªè¿›ç¨‹</li>
<li>å­˜å‚¨ç»“æœçš„backendï¼šæ‰§è¡Œç»“æœå­˜å‚¨åœ¨backendï¼Œé»˜è®¤ä¹Ÿä¼šå­˜å‚¨åœ¨brokerä½¿ç”¨çš„MQé˜Ÿåˆ—æœåŠ¡ä¸­ï¼Œä¹Ÿå¯ä»¥å•ç‹¬é…ç½®ç”¨ä½•ç§æœåŠ¡åšbackend</li>
</ol>
<p><img alt="å›¾ç‰‡æ¥è‡ªäº’è”ç½‘" loading="lazy" src="/static/images/2018/0714.celery.png" /></p>
<h1 id="_1">å¼‚æ­¥ä»»åŠ¡</h1>
<p>æˆ‘çš„å¼‚æ­¥ä½¿ç”¨åœºæ™¯ä¸ºé¡¹ç›®ä¸Šçº¿ï¼šå‰ç«¯webä¸Šæœ‰ä¸ªä¸Šçº¿æŒ‰é’®ï¼Œç‚¹å‡»æŒ‰é’®åå‘è¯·æ±‚ç»™åç«¯ï¼Œåç«¯æ‰§è¡Œä¸Šçº¿è¿‡ç¨‹è¦5åˆ†é’Ÿï¼Œåç«¯åœ¨æ¥æ”¶åˆ°è¯·æ±‚åæŠŠä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—å¼‚æ­¥æ‰§è¡Œï¼ŒåŒæ—¶é©¬ä¸Šè¿”å›ç»™å‰ç«¯ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œä¸­çš„ç»“æœã€‚è‹¥æœæ²¡æœ‰å¼‚æ­¥æ‰§è¡Œä¼šæ€ä¹ˆæ ·å‘¢ï¼ŸåŒæ­¥çš„æƒ…å†µå°±æ˜¯æ‰§è¡Œè¿‡ç¨‹ä¸­å‰ç«¯ä¸€ç›´åœ¨ç­‰åç«¯è¿”å›ç»“æœï¼Œé¡µé¢è½¬å‘€è½¬çš„å°±è½¬è¶…æ—¶äº†ã€‚</p>
<h2 id="_2">å¼‚æ­¥ä»»åŠ¡é…ç½®</h2>
<p>1.å®‰è£…RabbitMQï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨RabbitMQä½œä¸ºbrokerï¼Œå®‰è£…å®Œæˆåé»˜è®¤å¯åŠ¨äº†ï¼Œä¹Ÿä¸éœ€è¦å…¶ä»–ä»»ä½•é…ç½®</p>
<pre class="codehilite"><code># apt-get install rabbitmq-server</code></pre>


<p>2.å®‰è£…celery</p>
<pre class="codehilite"><code># pip3 install celery</code></pre>


<p>3.celeryç”¨åœ¨djangoé¡¹ç›®ä¸­ï¼Œdjangoé¡¹ç›®ç›®å½•ç»“æ„(ç®€åŒ–)å¦‚ä¸‹</p>
<pre class="codehilite"><code>website/
|-- deploy
|   |-- admin.py
|   |-- apps.py
|   |-- __init__.py
|   |-- models.py
|   |-- tasks.py
|   |-- tests.py
|   |-- urls.py
|   `-- views.py
|-- manage.py
|-- README
`-- website
    |-- celery.py
    |-- __init__.py
    |-- settings.py
    |-- urls.py
    `-- wsgi.py</code></pre>


<p>4.åˆ›å»º<code>website/celery.py</code>ä¸»æ–‡ä»¶</p>
<pre class="codehilite"><code>from __future__ import absolute_import, unicode_literals
import os
from celery import Celery, platforms

# set the default Django settings module for the 'celery' program.
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'website.settings')

app = Celery('website')

# Using a string here means the worker don't have to serialize
# the configuration object to child processes.
# - namespace='CELERY' means all celery-related configuration keys
#   should have a `CELERY_` prefix.
app.config_from_object('django.conf:settings', namespace='CELERY')

# Load task modules from all registered Django app configs.
app.autodiscover_tasks()

# å…è®¸root ç”¨æˆ·è¿è¡Œcelery
platforms.C_FORCE_ROOT = True

@app.task(bind=True)
def debug_task(self):
    print('Request: {0!r}'.format(self.request))</code></pre>


<p>5.åœ¨<code>website/__init__.py</code>æ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹å†…å®¹ï¼Œç¡®ä¿djangoå¯åŠ¨çš„æ—¶å€™è¿™ä¸ªappèƒ½å¤Ÿè¢«åŠ è½½åˆ°</p>
<pre class="codehilite"><code>from __future__ import absolute_import

# This will make sure the app is always imported when
# Django starts so that shared_task will use this app.
from .celery import app as celery_app

__all__ = ['celery_app']</code></pre>


<p>6.å„åº”ç”¨åˆ›å»ºtasks.pyæ–‡ä»¶ï¼Œè¿™é‡Œä¸º<code>deploy/tasks.py</code></p>
<pre class="codehilite"><code>from __future__ import absolute_import
from celery import shared_task

@shared_task
def add(x, y):
    return x + y</code></pre>


<ul>
<li><strong>æ³¨æ„tasks.pyå¿…é¡»å»ºåœ¨å„appçš„æ ¹ç›®å½•ä¸‹ï¼Œä¸”åªèƒ½å«tasks.pyï¼Œä¸èƒ½éšæ„å‘½å</strong></li>
</ul>
<p>7.views.pyä¸­å¼•ç”¨ä½¿ç”¨è¿™ä¸ªtaskså¼‚æ­¥å¤„ç†</p>
<pre class="codehilite"><code>from deploy.tasks import add

def post(request):
    result = add.delay(2, 3)</code></pre>


<ul>
<li>ä½¿ç”¨å‡½æ•°å.delay()å³å¯ä½¿å‡½æ•°å¼‚æ­¥æ‰§è¡Œ</li>
<li>å¯ä»¥é€šè¿‡<code>result.ready()</code>æ¥åˆ¤æ–­ä»»åŠ¡æ˜¯å¦å®Œæˆå¤„ç†</li>
<li>å¦‚æœä»»åŠ¡æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œä½¿ç”¨<code>result.get(timeout=1)</code>å¯ä»¥é‡æ–°æŠ›å‡ºå¼‚å¸¸</li>
<li>å¦‚æœä»»åŠ¡æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œä½¿ç”¨<code>result.traceback</code>å¯ä»¥è·å–åŸå§‹çš„å›æº¯ä¿¡æ¯</li>
</ul>
<p>8.å¯åŠ¨celery</p>
<pre class="codehilite"><code># celery -A website worker -l info</code></pre>


<p>9.è¿™æ ·åœ¨è°ƒç”¨postè¿™ä¸ªæ–¹æ³•æ—¶ï¼Œé‡Œè¾¹çš„addå°±å¯ä»¥å¼‚æ­¥å¤„ç†äº†</p>
<h1 id="_3">å®šæ—¶ä»»åŠ¡</h1>
<p>å®šæ—¶ä»»åŠ¡çš„ä½¿ç”¨åœºæ™¯å°±å¾ˆæ™®éäº†ï¼Œæ¯”å¦‚æˆ‘éœ€è¦å®šæ—¶å‘é€æŠ¥å‘Šç»™è€æ¿~</p>
<h2 id="_4">å®šæ—¶ä»»åŠ¡é…ç½®</h2>
<p>1.<code>website/celery.py</code>æ–‡ä»¶æ·»åŠ å¦‚ä¸‹é…ç½®ä»¥æ”¯æŒå®šæ—¶ä»»åŠ¡crontab</p>
<pre class="codehilite"><code>from celery.schedules import crontab

app.conf.update(
    CELERYBEAT_SCHEDULE = {
        'sum-task': {
            'task': 'deploy.tasks.add',
            'schedule':  timedelta(seconds=20),
            'args': (5, 6)
        },
        'send-report': {
            'task': 'deploy.tasks.report',
            'schedule': crontab(hour=4, minute=30, day_of_week=1),
        }
    }
)</code></pre>


<ul>
<li>
<p>å®šä¹‰äº†ä¸¤ä¸ªtaskï¼š</p>
<ul>
<li>åå­—ä¸º'sum-task'çš„taskï¼Œæ¯20ç§’æ‰§è¡Œä¸€æ¬¡addå‡½æ•°ï¼Œå¹¶ä¼ äº†ä¸¤ä¸ªå‚æ•°5å’Œ6</li>
<li>åå­—ä¸º'send-report'çš„taskï¼Œæ¯å‘¨ä¸€æ—©ä¸Š4ï¼š30æ‰§è¡Œreportå‡½æ•°</li>
</ul>
</li>
<li>
<p>timedeltaæ˜¯datetimeä¸­çš„ä¸€ä¸ªå¯¹è±¡ï¼Œéœ€è¦<code>from datetime import timedelta</code>å¼•å…¥ï¼Œæœ‰å¦‚ä¸‹å‡ ä¸ªå‚æ•°</p>
<ul>
<li><code>days</code>ï¼šå¤©</li>
<li><code>seconds</code>ï¼šç§’</li>
<li><code>microseconds</code>ï¼šå¾®å¦™</li>
<li><code>milliseconds</code>ï¼šæ¯«ç§’</li>
<li><code>minutes</code>ï¼šåˆ†</li>
<li><code>hours</code>ï¼šå°æ—¶</li>
</ul>
</li>
<li>
<p>crontabçš„å‚æ•°æœ‰ï¼š</p>
<ul>
<li><code>month_of_year</code>ï¼šæœˆä»½</li>
<li><code>day_of_month</code>ï¼šæ—¥æœŸ</li>
<li><code>day_of_week</code>ï¼šå‘¨</li>
<li><code>hour</code>ï¼šå°æ—¶</li>
<li><code>minute</code>ï¼šåˆ†é’Ÿ</li>
</ul>
</li>
</ul>
<p>2.<code>deploy/tasks.py</code>æ–‡ä»¶æ·»åŠ reportæ–¹æ³•ï¼š</p>
<pre class="codehilite"><code>@shared_task
def report():
    return 5</code></pre>


<p>3.å¯åŠ¨celery beatï¼Œceleryå¯åŠ¨äº†ä¸€ä¸ªbeatè¿›ç¨‹ä¸€ç›´åœ¨ä¸æ–­çš„åˆ¤æ–­æ˜¯å¦æœ‰ä»»åŠ¡éœ€è¦æ‰§è¡Œ</p>
<pre class="codehilite"><code># celery -A website beat -l info</code></pre>


<h1 id="tips">Tips</h1>
<p>1.å¦‚æœä½ åŒæ—¶ä½¿ç”¨äº†å¼‚æ­¥ä»»åŠ¡å’Œè®¡åˆ’ä»»åŠ¡ï¼Œæœ‰ä¸€ç§æ›´ç®€å•çš„å¯åŠ¨æ–¹å¼<code>celery -A website worker -b -l info</code>ï¼Œå¯åŒæ—¶å¯åŠ¨workerå’Œbeat</p>
<p>2.å¦‚æœä½¿ç”¨çš„ä¸æ˜¯rabbitmqåšé˜Ÿåˆ—é‚£ä¹ˆéœ€è¦åœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­<code>website/celery.py</code>é…ç½®brokerå’Œbackendï¼Œå¦‚ä¸‹ï¼š</p>
<pre class="codehilite"><code># redisåšMQé…ç½®
app = Celery('website', backend='redis', broker='redis://localhost')
# rabbitmqåšMQé…ç½®
app = Celery('website', backend='amqp', broker='amqp://admin:admin@localhost')</code></pre>


<p>3.celeryä¸èƒ½ç”¨rootç”¨æˆ·å¯åŠ¨çš„è¯éœ€è¦åœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­æ·»åŠ <code>platforms.C_FORCE_ROOT = True</code></p>
<p>4.celeryåœ¨é•¿æ—¶é—´è¿è¡Œåå¯èƒ½å‡ºç°å†…å­˜æ³„æ¼ï¼Œéœ€è¦æ·»åŠ é…ç½®<code>CELERYD_MAX_TASKS_PER_CHILD = 10</code>ï¼Œè¡¨ç¤ºæ¯ä¸ªworkeræ‰§è¡Œäº†å¤šå°‘ä¸ªä»»åŠ¡å°±æ­»æ‰</p>
<h1 id="_5">å‚è€ƒæ–‡ç« ï¼š</h1>
<ul>
<li><a href="http://docs.celeryproject.org/en/latest/" target="_blank">http://docs.celeryproject.org/en/latest/</a></li>
<li><a href="https://github.com/pylixm/celery-examples" target="_blank">https://github.com/pylixm/celery-examples</a></li>
<li><a href="https://pylixm.cc/posts/2015-12-03-Django-celery.html" target="_blank">https://pylixm.cc/posts/2015-12-03-Django-celery.html</a></li>
</ul>

        <div>
          <ul style="display: inline-block;padding: 0;margin: 0 0 0.5em;color: #999;">
            <li style="display: inline-block;margin: 0 1em 0 0;"><a href="/s/devops-task-django-celery-setup-guide.html">ğŸ“… 2018-08-11</a></li>
<li style="display: inline-block;margin: 0 1em 0 0;"><a href="/tag/Django/">ğŸ·ï¸ Django</a></li><li style="display: inline-block;margin: 0 1em 0 0;"><a href="/tag/Celery/">ğŸ·ï¸ Celery</a></li><li style="display: inline-block;margin: 0 1em 0 0;"><a href="/tag/å…³äºæŠ€æœ¯/">ğŸ·ï¸ å…³äºæŠ€æœ¯</a></li>          </ul>
        </div>

        <hr>

        <div class="pagination">
            <a href="https://blog.ops-coffee.cn/s/full-path-varian-cicd-system-cmdb-jenkins.html" class="pagination-item prev-page">
                <span class="pagination-arrow">â†</span>
                <span class="pagination-text">ä¸Šä¸€ç¯‡ï¼š<br>æ¢ç§˜varianï¼šä¼˜é›…çš„å‘å¸ƒéƒ¨ç½²ç¨‹åº</span>
            </a>
            <a href="https://blog.ops-coffee.cn/s/django-model-queryset-select-guide.html" class="pagination-item next-page">
                <span class="pagination-text">ä¸‹ä¸€ç¯‡ï¼š<br>Django model selectçš„å„ç§ç”¨æ³•è¯¦è§£</span>
                <span class="pagination-arrow">â†’</span>
            </a>
        </div>

        <div class="nav-cell">
    <script async src="https://giscus.app/client.js"
            data-repo="ops-coffee/blog" data-repo-id="MDEwOlJlcG9zaXRvcnkxNDY4OTI0MTg="
            data-category="Announcements" data-category-id="DIC_kwDOCMFmgs4CQar3"
            data-mapping="pathname" data-strict="0" data-reactions-enabled="1"
            data-emit-metadata="0" data-input-position="top" data-theme="light"
            data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous">
    </script>
</div>

        <div>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8944257246828217"
         data-ad-slot="6731434232" data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</div>

        <div class="nav-cell">
            <p class="nav-list-title">èƒ½çœ‹åˆ°è¿™é‡Œä¸€å®šæ˜¯çœŸçˆ±ï¼Œè®¢é˜…ä¸€ä¸‹å§</p>
            <img alt="" loading="lazy" src="/static/images/wx.sou1.png" />
        </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="copy"> Â© ops-coffee</div>

      <div class="link">
        <a href="/comments.html" title="ç»™æˆ‘ç•™è¨€" target="_blank">ç•™è¨€</a>
        <a href="/friends.html" title="å‹æƒ…é“¾æ¥" target="_blank">å‹é“¾</a>
      </div>
    </div>
  </footer>
  
  <!-- Umami Cloud -->
<script async src="https://umami.ops-coffee.cn/script.js" data-website-id="a4aabd8e-32c7-40e7-a81c-119b909f2d0f"></script>

<!-- Google Adsense -->
<script data-ad-client="ca-pub-8944257246828217" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</body>

</html>