<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="applicable-device" content="pc,mobile">
  <meta name="keywords" content="Djangoæƒé™ç³»ç»Ÿ, Djangoè‡ªå®šä¹‰æƒé™, Djangoå¯¹è±¡æƒé™, Djangoæƒé™ç®¡ç†, Django signals, Django adminæƒé™, Djangoç”¨æˆ·æƒé™, Djangoç»„æƒé™" />
  <meta name="description" content="æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†Djangoé»˜è®¤æƒé™ç³»ç»Ÿçš„å·¥ä½œåŸç†åŠé™åˆ¶ï¼Œå¹¶æä¾›äº†è‡ªå®šä¹‰æƒé™ã€æƒé™ä¿®æ”¹ã€æƒé™æŸ¥çœ‹å’Œæ ¡éªŒçš„æ–¹æ³•ï¼Œé€‚ç”¨äºå¸Œæœ›æ·±å…¥äº†è§£å’Œæ‰©å±•Djangoæƒé™ç®¡ç†åŠŸèƒ½çš„å¼€å‘è€…ã€‚" />
  <link rel="alternate" type="application/rss+xml" title="è¿ç»´å’–å•¡å§" href="https://blog.ops-coffee.cn/feed.xml" />
  <link rel="stylesheet" href="https://blog.ops-coffee.cn/static/posts/css/ops-coffee.min.css" type="text/css" />

  <!-- Begin SEO tag -->
  <title>Djangoé»˜è®¤æƒé™æœºåˆ¶ä»‹ç»åŠå®è·µ</title>
  <meta property="og:locale" content="zh_CN" />
  <meta property="og:site_name" content="è¿ç»´å’–å•¡å§" />
  <meta property="og:url" content="https://blog.ops-coffee.cn" />
  <meta property="og:title" content="Djangoé»˜è®¤æƒé™æœºåˆ¶ä»‹ç»åŠå®è·µ" />
  <meta property="og:description" content="æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†Djangoé»˜è®¤æƒé™ç³»ç»Ÿçš„å·¥ä½œåŸç†åŠé™åˆ¶ï¼Œå¹¶æä¾›äº†è‡ªå®šä¹‰æƒé™ã€æƒé™ä¿®æ”¹ã€æƒé™æŸ¥çœ‹å’Œæ ¡éªŒçš„æ–¹æ³•ï¼Œé€‚ç”¨äºå¸Œæœ›æ·±å…¥äº†è§£å’Œæ‰©å±•Djangoæƒé™ç®¡ç†åŠŸèƒ½çš„å¼€å‘è€…ã€‚" />
  <link rel="canonical" href="https://blog.ops-coffee.cn" />
  <!-- End SEO tag -->
</head>

<body>
  <div class="header">
    <div class="menu-button">&#9776; 
        <span class="menu-title">è¿ç»´å’–å•¡å§</span>
    </div> 

    <div class="container no-sidebar">
      <nav class="header-site">
        <ul>
          <li><a href="/">é¦–é¡µ</a></li>
            <li class="has-submenu">
              <a href="#" target="_self">è¿ç»´</a>
              <ul class="sub-menu">
                <li><a href="/tag/ç³»ç»Ÿè¿ç»´/" target="_self">ç³»ç»Ÿè¿ç»´</a></li>
                <li><a href="/elk/index.html" target="_self">ELKç³»åˆ—</a></li>
                <li><a href="/ldap/index.html" target="_self">LDAPç³»åˆ—</a></li>
              </ul>
            </li>
            <li class="has-submenu">
              <a href="#" target="_self">å¼€å‘</a>
              <ul class="sub-menu">
                <li><a href="/tag/Devops/" target="_self">DevOps</a></li>
                <li><a href="/tag/Python/" target="_self">Python</a></li>
                <li><a href="/tag/Django/" target="_self">Django</a></li>
                <li><a href="/bpmn/index.html" target="_self">BPMNç³»åˆ—</a></li>
                <li><a href="/webssh/index.html" target="_self">WebSSHç³»åˆ—</a></li>
                <li><a href="/frontend/index.html" target="_self">å‰ç«¯å¼€å‘ç³»åˆ—</a></li>
              </ul>
            </li>
            <li><a href="/devops/index.html" target="_self">è¿ç»´å¹³å°</a></li>
            <li class="has-submenu">
              <a href="#" target="_self">è¿™æ˜¯ç”Ÿæ´»</a>
              <ul class="sub-menu">
                <li><a href="/life/chronicles.html" target="_self">æ—¶å…‰å°è®°</a></li>
                <li><a href="/life/money.html" target="_self">å‰¯ä¸šèµšé’±</a></li>
                <li><a href="/life/writing.html" target="_self">å†™ä½œç›¸å…³</a></li>
                <li><a href="/tag/è¿™æ˜¯ç”Ÿæ´»/" target="_self">ç”Ÿæ´»éšç¬”</a></li>
              </ul>
            </li>
            <li class="has-submenu">
              <a href="#" target="_self">æˆ¿è½¦æ—…è¡Œ</a>
              <ul class="sub-menu">
                <li><a href="/rv.html" target="_self">æˆ¿è½¦ä½“éªŒ</a></li>
                <li><a href="/travels.html" target="_self">æ—…è¡Œæ¸¸è®°</a></li>
                <li><a href="/travel/china.html" target="_self">æ—…è¡Œåœ°å›¾</a></li>
              </ul>
            </li>
            <li><a href="/tag/index.html" target="_self">æ ‡ç­¾</a></li>
            <li><a href="/archive.html" target="_self">å½’æ¡£</a></li>
          <li class="search"><a href="/search.html" target="_self">ğŸ”</a></li>
        </ul>
      </nav>
    </div>
  </div>

  <header>
    <div class="container no-sidebar">
      <a href="/">
        <div class="name">è¿ç»´å’–å•¡å§</div>
        <div class="slogan">äº«å—æŠ€æœ¯å¸¦æ¥çš„ä¹è¶£ï¼Œä½“éªŒç”Ÿæ´»ç»™äºˆçš„æ„ŸåŠ¨</div>
      </a>
    </div>
  </header>

  <div id="content-wrap">
    <div class="container no-sidebar">
        <h1 id="art-title">Djangoé»˜è®¤æƒé™æœºåˆ¶ä»‹ç»åŠå®è·µ</h1>

        <blockquote>
<p>æ¼”ç¤ºDjangoç‰ˆæœ¬ä¸ºå½“å‰æœ€æ–°ç‰ˆæœ¬v2.2</p>
</blockquote>
<p>å½“Djangoé…ç½®æ–‡ä»¶ä¸­çš„<code>INSTALL_APPS</code>åŒ…å«äº†<code>django.contrib.auth</code>æ—¶ï¼Œå°±é»˜è®¤å¯ç”¨äº†ä¸€ä¸ªç®€å•çš„æƒé™ç³»ç»Ÿï¼Œæä¾›äº†ä¸ºç”¨æˆ·æˆ–ç»„åˆ†é…æƒé™çš„æ–¹æ³•</p>
<p>ä¹‹æ‰€ä»¥è¯´ç®€å•å‘¢ï¼Ÿä¸»è¦æ˜¯å› ä¸ºï¼š</p>
<p>1.é»˜è®¤çš„æƒé™ç³»ç»Ÿæ˜¯åŸºäºè¡¨çš„æ§åˆ¶ï¼Œæƒé™æœ€å°ç²’åº¦æ˜¯è¡¨</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡å¦‚æœ‰ä¸€ä¸ªBlogè¡¨ï¼Œæˆ‘ä»¬å¯ä»¥èµ‹äºˆç”¨æˆ·æˆ–ç»„å¯¹Blogè¡¨æœ‰deleteçš„æƒé™ï¼Œé‚£ä¹ˆç”¨æˆ·æˆ–ç»„æˆå‘˜å°±å¯ä»¥åˆ é™¤å…¨éƒ¨Blogï¼Œæ˜¯ä¸èƒ½æ§åˆ¶ç”¨æˆ·åªèƒ½åˆ é™¤è‡ªå·±åˆ›å»ºçš„blogçš„</p>
<p>å¦‚æœå¸Œæœ›ç”¨æˆ·åªèƒ½åˆ é™¤è‡ªå·±åˆ›å»ºçš„Blogï¼Œä¸èƒ½åˆ é™¤åˆ«äººåˆ›å»ºçš„Blogï¼Œè¿™ç§éœ€æ±‚Djangoé»˜è®¤çš„æƒé™ç®¡ç†å°±æ— æ³•å®ç°äº†ï¼Œéœ€è¦ç”¨åˆ°<code>object permission</code>å¯¹è±¡æƒé™ï¼Œæœ‰ç¬¬ä¸‰æ–¹æ¨¡å—å®ç°äº†å¯¹è±¡æƒé™ï¼Œå¦‚<a href="https://github.com/django-guardian/django-guardian" target="_blank">django-guardian</a>ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥è‡ªå·±å®ç°å¯¹è±¡æƒé™ï¼Œå…·ä½“æ€è·¯å¯å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<a href="/s/BZsJnWLtv8ZwwlBYbWSbZQ" target="_blank">Djangoå†…ç½®æƒé™æ‰©å±•æ¡ˆä¾‹</a></p>
<p>2.æ¯ä¸ªModelæ¨¡å‹é»˜è®¤åªæœ‰å››ä¸ªæƒé™ï¼Œåˆ†åˆ«æ˜¯æ·»åŠ <code>add_</code>ã€ä¿®æ”¹<code>change_</code>ã€åˆ é™¤<code>delete_</code>ã€æŸ¥çœ‹<code>view_</code>ï¼Œè¿™äº›æƒé™è®°å½•åœ¨Permissionè¡¨ä¸­ï¼Œè¡¨æ•°æ®å¦‚ä¸‹ï¼š</p>
<p><img alt="" loading="lazy" src="/static/images/2019/0926.01.png" /></p>
<p>é»˜è®¤æƒé™çš„åˆ›å»ºæ˜¯é€šè¿‡Djangoçš„ä¿¡å·signalså®ç°çš„ï¼Œä½¿ç”¨äº†<code>post_migrate</code>ä¿¡å·ï¼Œåœ¨æ¯æ¬¡æ‰§è¡Œmigrateæ“ä½œæ—¶éƒ½ä¼šä¸ºæ–°çš„Modelæ¨¡å‹åˆ›å»ºé»˜è®¤æƒé™ï¼Œå…³äºDjangoçš„ä¿¡å·Signalsä»‹ç»å’Œä½¿ç”¨å¯ä»¥æŸ¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="/s/cMxdAfsTno56ixurmD4KXA" target="_blank">Djangoä½¿ç”¨Signalsç›‘æµ‹modelå­—æ®µå˜åŒ–å‘é€é€šçŸ¥</a>ï¼Œ</p>
<h3 id="_1">è‡ªå®šä¹‰æƒé™</h3>
<p>é»˜è®¤çš„æƒé™åå­—å’Œæè¿°éƒ½æ˜¯è‹±æ–‡çš„ï¼Œä¸”åªæœ‰å››ä¸ªï¼Œå¦‚æœä½ ä¸æƒ³ç”¨é»˜è®¤çš„å‡ ä¸ªæƒé™ï¼Œæƒ³è¦è‡ªå®šä¹‰çš„è¯ï¼Œå¯ä»¥è¿™æ ·åšï¼š</p>
<pre class="codehilite"><code>class Blog(models.Model):
    title = models.CharField(max_length=256, verbose_name='æ ‡é¢˜')
    content = models.TextField(blank=True, null=True, verbose_name='å†…å®¹')

    class Meta:
        default_permissions = ()

        permissions = (
            (&quot;change_blog&quot;, &quot;ä¿®æ”¹åšå®¢&quot;),
            (&quot;delete_blog&quot;, &quot;æŸ¥çœ‹åšå®¢&quot;),
            (&quot;publish_blog&quot;, &quot;å‘å¸ƒåšå®¢&quot;),
        )</code></pre>


<p><strong>default_permissionsï¼š</strong> æ¸…ç©ºé»˜è®¤çš„æƒé™</p>
<p><strong>permissionsï¼š</strong> è®¾ç½®æƒé™ï¼Œå†…å®¹æ˜¯ä¸€ä¸ªåµŒå¥—çš„åˆ—è¡¨ï¼Œåˆ—è¡¨ç¬¬ä¸€ä¸ªå­—æ®µæ˜¯<code>codename</code>ï¼Œç¬¬äºŒä¸ªå­—æ®µä¸º<code>name</code></p>
<p>æ³¨æ„ï¼šå¦‚æœä½ ä½¿ç”¨äº†djangoé»˜è®¤çš„adminçš„è¯ï¼Œå»ºè®®ä¿ç•™4ä¸ªé»˜è®¤æƒé™ï¼Œå¯ä»¥æ·»åŠ æ–°æƒé™</p>
<h3 id="_2">æƒé™ä¿®æ”¹</h3>
<p>å¦‚æœä½ ç”¨äº†Djangoè‡ªå¸¦çš„adminï¼Œåœ¨migrateä¹‹åå°±èƒ½åœ¨adminçš„userå’Œgroupä¸¤ä¸ªè¡¨ä¸­çœ‹åˆ°æ–°æ·»åŠ çš„æƒé™äº†</p>
<p><img alt="" loading="lazy" src="/static/images/2019/0926.02.png" /></p>
<p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨ç¨‹åºä¸­æ¥æ·»åŠ æˆ–ä¿®æ”¹æƒé™</p>
<h4 id="_3">ç”¨æˆ·æƒé™ä¿®æ”¹æ–¹æ³•ï¼š</h4>
<pre class="codehilite"><code>ops = User.objects.get(id=2)

ops.user_permissions.add(25, 26)
ops.user_permissions.set([26, 27])
ops.user_permissions.remove(26, 27)
ops.user_permissions.clear()</code></pre>


<h4 id="_4">ç»„æƒé™ä¿®æ”¹æ–¹æ³•ï¼š</h4>
<pre class="codehilite"><code>coffee = Group.objects.get(id=1)

coffee.permissions.add(25)
coffee.permissions.set([26,27])
coffee.permissions.remove(25)
coffee.permissions.clear()</code></pre>


<p>å…¶ä¸­<code>add</code>ä¸ºæ·»åŠ ï¼Œ<code>set</code>ä¸ºè®¾ç½®ï¼Œ<code>remove</code>ä¸ºç§»é™¤ï¼Œ<code>clear</code>ä¸ºæ¸…ç©ºï¼Œ<code>add</code>è·Ÿ<code>set</code>çš„åŒºåˆ«æ˜¯<code>add</code>ä¼šåœ¨åŸæœ‰æƒé™çš„åŸºç¡€ä¸ŠåŠ æ–°æƒé™ï¼Œè€Œ<code>set</code>ä¼šæ¸…ç©ºåŸæœ‰æƒé™è®¾ç½®æˆæ–°çš„æƒé™ï¼Œåè¾¹çš„å‚æ•°25,26,27å¯ä»¥ä¸ºPermissionçš„IDæˆ–è€…æ˜¯Permissionå¯¹è±¡ï¼Œä¾‹å¦‚è¿™æ ·ä¹Ÿæ˜¯å¯ä»¥çš„ï¼š</p>
<pre class="codehilite"><code>p = Permission.objects.get(id=25)
coffee.permissions.add(p)</code></pre>


<p>ç»™ç»„èµ‹äºˆæƒé™ï¼Œç»„å†…çš„æ‰€æœ‰ç”¨æˆ·ä¼šè‡ªåŠ¨çš„æ‹¥æœ‰è¯¥ç»„çš„æƒé™ï¼Œä¾‹å¦‚ç”¨æˆ·<code>ops-coffee</code>éš¶å±äºç»„<code>SRE</code>ï¼Œ<code>SRE</code>ç»„å¯¹Blogè¡¨æœ‰ä¿®æ”¹æƒé™ï¼Œé‚£ä¹ˆå³ä¾¿æ˜¯æ²¡æœ‰å•ç‹¬ç»™<code>ops-coffee</code>ç”¨æˆ·åˆ†é…ä»»ä½•æƒé™ï¼Œä»–ä¹Ÿä¼šæœ‰å¯¹Blogè¡¨çš„ä¿®æ”¹æƒé™</p>
<h3 id="_5">æƒé™æŸ¥çœ‹</h3>
<p><code>get_all_permissions()</code>åˆ—å‡ºç”¨æˆ·çš„æ‰€æœ‰æƒé™ï¼š</p>
<pre class="codehilite"><code>&gt;&gt;&gt; User.objects.get(username='ops-coffee').get_all_permissions()
{'blog.publish_blog', 'blog.delete_blog', 'auth.add_group', 'blog.change_blog'}</code></pre>


<p><code>get_group_permissions()</code>åˆ—å‡ºç”¨æˆ·æ‰€å±ç»„çš„æƒé™ï¼š</p>
<pre class="codehilite"><code>&gt;&gt;&gt; User.objects.get(username='ops-coffee').get_group_permissions()
{'blog.publish_blog', 'blog.change_blog', 'blog.delete_blog'}</code></pre>


<h3 id="_6">æƒé™æ ¡éªŒ</h3>
<p>ç”¨æˆ·å¯¹è±¡å¯ä»¥é€šè¿‡<code>has_perm</code>æ–¹æ³•æ¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦æ‹¥æœ‰æŸä¸ªæƒé™ï¼š</p>
<pre class="codehilite"><code>&gt;&gt;&gt; User.objects.get(username='ops-coffee').has_perm('blog.change_blog')
True
&gt;&gt;&gt; User.objects.get(username='ops-coffee').has_perm('blog.delete_blog')
True</code></pre>


<p><strong>has_perm</strong> çš„å‚æ•°ç”±<code>&lt;app label&gt;.&lt;permission codename&gt;</code>ä¸¤éƒ¨åˆ†ç»„æˆï¼Œä¾‹å¦‚<code>blog.delete_blog</code>è¡¨ç¤ºçš„å°±æ˜¯åå­—ä¸º<code>blog</code>çš„APPä¸‹çš„<code>delete_blog</code>æƒé™</p>
<h3 id="view">åç«¯Viewæ ¡éªŒæƒé™</h3>
<p>å¯ä»¥ç›´æ¥åœ¨viewä¸­é€šè¿‡ifåˆ¤æ–­ç”¨æˆ·æƒé™ï¼Œä¾‹å¦‚ï¼š</p>
<pre class="codehilite"><code>def ops_coffee_view(request):
    if not request.user.has_perm('blog.change_blog')
        return HttpResponse('403 Forbidden')</code></pre>


<p>ä¸ºäº†æ–¹ä¾¿ï¼ŒDjangoè¿˜æä¾›äº†ä¸€ä¸ª<code>permission_required()</code>çš„è£…é¥°å™¨ï¼Œå¯ä»¥å¿«é€Ÿçš„æ¥æ ¡éªŒç”¨æˆ·æ˜¯å¦æ‹¥æœ‰ç‰¹å®šçš„æƒé™ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š</p>
<pre class="codehilite"><code>@permission_required(perm, login_url=None, raise_exception=False)</code></pre>


<p>ä¸‰ä¸ªå‚æ•°çš„æ„æ€åˆ†åˆ«æ˜¯ï¼š</p>
<p><strong>permï¼š</strong> å¿…é¡»æœ‰ï¼Œæƒé™åç§°ï¼ŒåŒ<code>has_perm</code>ä¸€æ ·</p>
<p><strong>login_urlï¼š</strong> éå¿…é¡»ï¼Œç™»é™†çš„urlåœ°å€ï¼Œå½“ä½ æ²¡æœ‰æƒé™æ—¶è‡ªåŠ¨è·³è½¬åˆ°ç™»é™†é¡µï¼Œè¿™é‡Œå¯ä»¥è®¾ç½®ç™»é™†åœ°å€çš„url</p>
<p><strong>reise_exceptionï¼š</strong> éå¿…é¡»ï¼Œå½“ä¸ºTrueæ—¶ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰æƒé™ï¼Œåˆ™ä¸ä¼šè·³è½¬åˆ°ç™»é™†é¡µï¼Œè€Œæ˜¯å¼•å‘<code>PermissionDenied</code>é”™è¯¯ï¼Œè¿”å›<code>403 Forbidden</code></p>
<p>å¦‚ä¸‹ä¾‹å­ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦æœ‰<code>blog</code>çš„APPçš„<code>change_blog</code>æƒé™ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¿”å›403é”™è¯¯</p>
<pre class="codehilite"><code>@permission_required('blog.change_blog', raise_exception=True)
def ops_coffee_view(request):
    ...</code></pre>


<h3 id="template">å‰ç«¯Templateä¸­æ ¡éªŒæƒé™</h3>
<p>å½“å‰ç™»é™†ç”¨æˆ·çš„æƒé™ä¿å­˜åœ¨æ¨¡ç‰ˆå˜é‡<code>{{ perms }}</code>ä¸­ï¼Œå¯ä»¥åœ¨æ¨¡ç‰ˆä¸­é€šè¿‡ifåˆ¤æ–­ç”¨æˆ·æ˜¯å¦æ‹¥æœ‰ç›¸åº”çš„æƒé™è€Œå¼€æ”¾å¯¹åº”çš„å†…å®¹ï¼Œä¾‹å¦‚å¯¹äºä¾§è¾¹æ èœå•åªæ˜¾ç¤ºç”¨æˆ·æœ‰æƒé™è®¿é—®çš„ï¼Œå°±å¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<pre class="codehilite"><code>{% if perms.cmdb.view_project %}
    &lt;li&gt;&lt;a href=&quot;{% url 'project-list-url' %}&quot;&gt;&lt;/i&gt; é¡¹ç›®åˆ—è¡¨&lt;/a&gt;&lt;/li&gt;
{% endif %}

{% if perms.cmdb.view_service %}
    &lt;li&gt;&lt;a href=&quot;{% url 'service-list-url' %}&quot;&gt;&lt;/i&gt; æœåŠ¡åˆ—è¡¨&lt;/a&gt;&lt;/li&gt;
{% endif %}

{% if perms.cmdb.view_environment %}
    &lt;li&gt;&lt;a href=&quot;{% url 'environment-list-url' %}&quot;&gt;&lt;/i&gt; ç¯å¢ƒåˆ—è¡¨&lt;/a&gt;&lt;/li&gt;
{% endif %}</code></pre>


<p>è‡³æ­¤ï¼ŒDjangoçš„é»˜è®¤æƒé™ç³»ç»Ÿä»‹ç»å®Œæˆï¼Œé»˜è®¤æƒé™åœ¨å°å‹é¡¹ç›®ä¸­èƒ½æ»¡è¶³å¤§éƒ¨åˆ†çš„éœ€æ±‚ï¼Œå¦‚æœå¯¹æƒé™æ§åˆ¶æœ‰æ›´é«˜çš„è¦æ±‚å¯ä»¥å…³æ³¨å‰æ–‡ä¸­ä»‹ç»çš„<code>django-guardian</code>é¡¹ç›®æˆ–è‡ªå·±å®ç°</p>

        <div>
          <ul style="display: inline-block;padding: 0;margin: 0 0 0.5em;color: #999;">
            <li style="display: inline-block;margin: 0 1em 0 0;"><a href="/s/django-contrib-auth-permissions-system.html">ğŸ“… 2019-09-27</a></li>
<li style="display: inline-block;margin: 0 1em 0 0;"><a href="/tag/Django/">ğŸ·ï¸ Django</a></li><li style="display: inline-block;margin: 0 1em 0 0;"><a href="/tag/å…³äºæŠ€æœ¯/">ğŸ·ï¸ å…³äºæŠ€æœ¯</a></li>          </ul>
        </div>

        <hr>

        <div class="nav-cell">
    <script async src="https://giscus.app/client.js"
            data-repo="ops-coffee/blog" data-repo-id="MDEwOlJlcG9zaXRvcnkxNDY4OTI0MTg="
            data-category="Announcements" data-category-id="DIC_kwDOCMFmgs4CQar3"
            data-mapping="pathname" data-strict="0" data-reactions-enabled="1"
            data-emit-metadata="0" data-input-position="top" data-theme="light"
            data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous">
    </script>
</div>

        <div>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8944257246828217"
         data-ad-slot="6731434232" data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</div>

        <div class="nav-cell">
            <p class="nav-list-title">èƒ½çœ‹åˆ°è¿™é‡Œä¸€å®šæ˜¯çœŸçˆ±ï¼Œè®¢é˜…ä¸€ä¸‹å§</p>
            <img alt="" loading="lazy" src="/static/images/wx.sou1.png" />
        </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="copy"> Â© ops-coffee</div>

      <div class="link">
        <a href="/comments.html" title="ç»™æˆ‘ç•™è¨€" target="_blank">ç•™è¨€</a>
        <a href="/friends.html" title="å‹æƒ…é“¾æ¥" target="_blank">å‹é“¾</a>
      </div>
    </div>
  </footer>
  
  <!-- Umami Cloud -->
<script async src="https://umami.ops-coffee.cn/script.js" data-website-id="a4aabd8e-32c7-40e7-a81c-119b909f2d0f"></script>

<!-- Google Adsense -->
<script data-ad-client="ca-pub-8944257246828217" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</body>

</html>