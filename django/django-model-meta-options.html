<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="applicable-device" content="pc,mobile">
  <meta name="keywords" content="Django Model Meta, abstract, db_table, indexes, index_together, unique_together, ordering, permissions, default_permissions, app_label, verbose_name, verbose_name_plural, base_manager_name, db_tablespace, default_manager_name, default_related_name, get_latest_by, managed, order_with_respect_to, proxy, required_db_features, required_db_vendor, constraints, label, label_lower" />
  <meta name="description" content="æœ¬æ–‡æ±‡æ€»äº†Django Modelå†…éƒ¨Class Metaé€‰é¡¹ï¼ŒåŒ…æ‹¬abstractã€db_tableã€indexesã€index_togetherã€unique_togetherã€orderingã€permissionsç­‰é€‰é¡¹çš„è¯¦ç»†è¯´æ˜å’Œä½¿ç”¨ç¤ºä¾‹ã€‚" />
  <link rel="alternate" type="application/rss+xml" title="è¿ç»´å’–å•¡å§" href="https://blog.ops-coffee.cn/feed.xml" />
  <link rel="stylesheet" href="https://blog.ops-coffee.cn/static/posts/css/ops-coffee.min.css" type="text/css" />

  <!-- Begin SEO tag -->
  <title>Django Model Metaé€‰é¡¹</title>
  <meta property="og:locale" content="zh_CN" />
  <meta property="og:site_name" content="è¿ç»´å’–å•¡å§" />
  <meta property="og:url" content="https://blog.ops-coffee.cn" />
  <meta property="og:title" content="Django Model Metaé€‰é¡¹" />
  <meta property="og:description" content="æœ¬æ–‡æ±‡æ€»äº†Django Modelå†…éƒ¨Class Metaé€‰é¡¹ï¼ŒåŒ…æ‹¬abstractã€db_tableã€indexesã€index_togetherã€unique_togetherã€orderingã€permissionsç­‰é€‰é¡¹çš„è¯¦ç»†è¯´æ˜å’Œä½¿ç”¨ç¤ºä¾‹ã€‚" />
  <link rel="canonical" href="https://blog.ops-coffee.cn" />
  <!-- End SEO tag -->
</head>

<body>
  <div class="header">
    <div class="menu-button">&#9776; 
        <span class="menu-title">è¿ç»´å’–å•¡å§</span>
    </div> 

    <div class="container no-sidebar">
      <nav class="header-site">
        <ul>
          <li><a href="/">é¦–é¡µ</a></li>
            <li class="has-submenu">
              <a href="#" target="_self">è¿ç»´</a>
              <ul class="sub-menu">
                <li><a href="/tag/ç³»ç»Ÿè¿ç»´/" target="_self">ç³»ç»Ÿè¿ç»´</a></li>
                <li><a href="/elk/index.html" target="_self">ELKç³»åˆ—</a></li>
                <li><a href="/ldap/index.html" target="_self">LDAPç³»åˆ—</a></li>
              </ul>
            </li>
            <li class="has-submenu">
              <a href="#" target="_self">å¼€å‘</a>
              <ul class="sub-menu">
                <li><a href="/tag/Devops/" target="_self">DevOps</a></li>
                <li><a href="/tag/Python/" target="_self">Python</a></li>
                <li><a href="/tag/Django/" target="_self">Django</a></li>
                <li><a href="/bpmn/index.html" target="_self">BPMNç³»åˆ—</a></li>
                <li><a href="/webssh/index.html" target="_self">WebSSHç³»åˆ—</a></li>
                <li><a href="/frontend/index.html" target="_self">å‰ç«¯å¼€å‘ç³»åˆ—</a></li>
              </ul>
            </li>
            <li><a href="/devops/index.html" target="_self">è¿ç»´å¹³å°</a></li>
            <li class="has-submenu">
              <a href="#" target="_self">è¿™æ˜¯ç”Ÿæ´»</a>
              <ul class="sub-menu">
                <li><a href="/life/chronicles" target="_self">æ—¶å…‰å°è®°</a></li>
                <li><a href="/life/money" target="_self">å‰¯ä¸šèµšé’±</a></li>
                <li><a href="/life/writing" target="_self">å†™ä½œç›¸å…³</a></li>
                <li><a href="/tag/è¿™æ˜¯ç”Ÿæ´»/" target="_self">ç”Ÿæ´»éšç¬”</a></li>
              </ul>
            </li>
            <li class="has-submenu">
              <a href="#" target="_self">æˆ¿è½¦æ—…è¡Œ</a>
              <ul class="sub-menu">
                <li><a href="/rv.html" target="_self">æˆ¿è½¦ä½“éªŒ</a></li>
                <li><a href="/travels.html" target="_self">æ—…è¡Œæ¸¸è®°</a></li>
                <li><a href="/travel/china.html" target="_self">æ—…è¡Œåœ°å›¾</a></li>
              </ul>
            </li>
            <li><a href="/tag/index.html" target="_self">æ ‡ç­¾</a></li>
            <li><a href="/archive.html" target="_self">å½’æ¡£</a></li>
          <li class="search"><a href="/search.html" target="_self">ğŸ”</a></li>
        </ul>
      </nav>
    </div>
  </div>

  <header>
    <div class="container no-sidebar">
      <a href="/">
        <div class="name">è¿ç»´å’–å•¡å§</div>
        <div class="slogan">äº«å—æŠ€æœ¯å¸¦æ¥çš„ä¹è¶£ï¼Œä½“éªŒç”Ÿæ´»ç»™äºˆçš„æ„ŸåŠ¨</div>
      </a>
    </div>
  </header>

  <div id="content-wrap">
    <div class="container no-sidebar">
        <h1 id="art-title">Django Model Metaé€‰é¡¹</h1>

        <p>Modelå†…éƒ¨Class Metaé€‰é¡¹æ±‡æ€»</p>
<h3 id="abstract">abstract</h3>
<p>å½“abstract = trueæ—¶ï¼Œè¡¨ç¤ºè¿™ä¸ªæ¨¡å‹æ˜¯ä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼ŒæŠ½è±¡åŸºç±»åªèƒ½ä¾›å…¶ä»–modelç±»å¼•ç”¨ï¼Œå¹¶ä¸ä¼šå®é™…åˆ›å»ºè¡¨ï¼Œä¾‹å¦‚</p>
<pre class="codehilite"><code>class TimeBaseModel(models.Model):
    create_time = models.DateTimeField(auto_now_add=True, verbose_name='åˆ›å»ºæ—¶é—´')
    update_time = models.DateTimeField(auto_now=True, verbose_name='æ›´æ–°æ—¶é—´')

    class Meta:
        abstract = True


class Project(TimeBaseModel):
    english_name = models.CharField(max_length=16, unique=True, verbose_name='è‹±æ–‡åç§°')
    chinese_name = models.CharField(max_length=32, unique=True, verbose_name='ä¸­æ–‡åç§°')

    def __str__(self):
        return self.english_name</code></pre>


<h3 id="db_table">db_table</h3>
<p>å®šä¹‰æ•°æ®åº“ä¸­è¡¨çš„åå­—ï¼Œé»˜è®¤ä¸ºapp lale</p>
<h3 id="indexes">indexes</h3>
<p>ä¸»é”®</p>
<pre class="codehilite"><code>from django.db import models

class Customer(models.Model):
    first_name = models.CharField(max_length=100)
    last_name = models.CharField(max_length=100)

    class Meta:
        indexes = [
            models.Index(fields=['last_name', 'first_name']),
            models.Index(fields=['first_name'], name='first_name_idx'),
        ]</code></pre>


<h3 id="index_together">index_together</h3>
<p>è”åˆç´¢å¼•</p>
<pre class="codehilite"><code>index_together = [&quot;pub_date&quot;, &quot;deadline&quot;]</code></pre>


<p>ä»¥ä¸Šè¡¨ç¤ºpub_dateå’Œdeadlineä¼šåˆ›å»ºè”åˆç´¢å¼•</p>
<h3 id="unique_together">unique_together</h3>
<p>è”åˆå”¯ä¸€</p>
<pre class="codehilite"><code>unique_together = ('parent', 'name',)</code></pre>


<p>ä»¥ä¸Šè¡¨ç¤ºparentå’Œnameä¸¤ä¸ªå­—æ®µè”åˆå”¯ä¸€ï¼Œä¹Ÿå°±æ˜¯è¯´æ•°æ®åº“è¡¨é‡Œä¸ä¼šå‡ºç°ä¸¤æ¡parentå’Œnameéƒ½ç›¸åŒçš„æ•°æ®</p>
<h3 id="ordering">ordering</h3>
<p>å¯¹è±¡çš„é»˜è®¤æ’åºï¼Œç”¨äºè·å–å¯¹è±¡åˆ—è¡¨æ—¶</p>
<pre class="codehilite"><code>ordering = ['-pub_date', 'author']</code></pre>


<p>ä»¥ä¸Šè¡¨ç¤ºå…ˆæŒ‰ç…§<code>pub_date</code>é™åºï¼Œç„¶åæŒ‰ç…§<code>author</code>å‡åº</p>
<h3 id="permissions">permissions</h3>
<p>åˆ›å»ºæ­¤å¯¹è±¡æ—¶è¦è¾“å…¥æƒé™è¡¨çš„é¢å¤–æƒé™</p>
<pre class="codehilite"><code>permissions = (
    (&quot;relation_select&quot;, &quot;ä¸šåŠ¡å…³ç³»æŸ¥çœ‹æƒé™&quot;),
    (&quot;relation_change&quot;, &quot;ä¸šåŠ¡å…³ç³»ä¿®æ”¹æƒé™&quot;),
)</code></pre>


<h3 id="default_permissions">default_permissions</h3>
<p>é»˜è®¤å€¼ä¸º('add', 'change', 'delete', 'view') ã€‚å¦‚æœæˆ‘ä»¬ä¸éœ€è¦ä»»ä½•é»˜è®¤çš„æƒé™ï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºç©ºåˆ—è¡¨</p>
<pre class="codehilite"><code>default_permissions = ()</code></pre>


<h3 id="app_label">app_label</h3>
<p>å¦‚æœåœ¨<code>INSTALLED_APPS</code>ä¸­å®šä¹‰äº†ä¸€ä¸ªåº”ç”¨ç¨‹åºä¹‹å¤–çš„æ¨¡å‹ï¼Œå®ƒå¿…é¡»å£°æ˜å±äºå“ªä¸ªåº”ç”¨ç¨‹åº</p>
<pre class="codehilite"><code>app_label = 'myapp'</code></pre>


<h3 id="verbose_name">verbose_name</h3>
<p>å¯¹è±¡çš„å¯è¯»åç§°ï¼Œå•æ•°</p>
<h3 id="verbose_name_plural">verbose_name_plural</h3>
<p>å¯¹è±¡çš„å¯è¯»åç§°ï¼Œå¤æ•°</p>
<h3 id="base_manager_name">base_manager_name</h3>
<p>ç®¡ç†å™¨çš„å±æ€§åï¼Œä¾‹å¦‚é»˜è®¤çš„<code>objects</code></p>
<h3 id="db_tablespace">db_tablespace</h3>
<p>æ­¤æ¨¡å‹è¦ä½¿ç”¨çš„ æ•°æ®åº“è¡¨ç©ºé—´ åç§°ã€‚å¦‚æœæœ‰è®¾ç½®çš„è¯ï¼Œé»˜è®¤æ˜¯é¡¹ç›®çš„ DEFAULT_TABLESPACE é…ç½®ã€‚å¦‚æœåç«¯ä¸æ”¯æŒè¡¨ç©ºé—´ï¼Œåˆ™å¿½ç•¥æ­¤é€‰é¡¹</p>
<h3 id="default_manager_name">default_manager_name</h3>
<p>æ¨¡å‹çš„ é»˜è®¤ç®¡ç†å™¨çš„åç§°</p>
<h3 id="default_related_name">default_related_name</h3>
<p>ä»ç›¸å…³å¯¹è±¡åˆ°è¿™ä¸ªå¯¹è±¡çš„å…³ç³»é»˜è®¤ä½¿ç”¨çš„åç§°ã€‚é»˜è®¤ä¸º _set</p>
<h3 id="get_latest_by">get_latest_by</h3>
<p>æ¨¡å‹ä¸­çš„å­—æ®µåæˆ–å­—æ®µååˆ—è¡¨ï¼Œé€šå¸¸æ˜¯DateFieldï¼ŒDateTimeFieldæˆ–IntegerField</p>
<h3 id="managed">managed</h3>
<p>é»˜è®¤ä¸ºTrueï¼Œè¡¨ç¤ºç”±Djangoæ¥ç®¡ç†æ•°æ®åº“è¡¨çš„ç”Ÿå‘½å‘¨æœŸã€‚å¦‚æœFalseï¼Œå°†ä¸å¯¹è¯¥æ¨¡å‹è¿›è¡Œæ•°æ®åº“è¡¨çš„åˆ›å»ºã€ä¿®æ”¹æˆ–åˆ é™¤æ“ä½œ</p>
<p>å¦‚æœè¯¥æ¨¡å‹ä»£è¡¨ä¸€ä¸ªç°æœ‰çš„è¡¨æˆ–ä¸€ä¸ªé€šè¿‡å…¶ä»–æ–¹å¼åˆ›å»ºçš„æ•°æ®åº“è§†å›¾ï¼Œè¿™ä¸€ç‚¹å¾ˆæœ‰ç”¨ã€‚è¿™æ˜¯åœ¨<code>managed=False</code>æ—¶å”¯ä¸€çš„åŒºåˆ«ã€‚æ¨¡å‹å¤„ç†çš„æ‰€æœ‰å…¶ä»–æ–¹é¢éƒ½ä¸æ­£å¸¸æƒ…å†µå®Œå…¨ç›¸åŒ</p>
<h3 id="order_with_respect_to">order_with_respect_to</h3>
<p>ä½¿è¯¥å¯¹è±¡å¯ä»¥æ ¹æ®ç»™å®šå­—æ®µï¼ˆé€šå¸¸æ˜¯ForeignKeyï¼‰è¿›è¡Œæ’åº</p>
<h3 id="proxy">proxy</h3>
<p>å¦‚æœä¸ºTrueï¼Œä½œä¸ºå¦ä¸€ä¸ªæ¨¡å‹å­ç±»çš„æ¨¡å‹å°†è¢«è§†ä¸ºä»£ç†æ¨¡å‹</p>
<h3 id="required_db_features">required_db_features</h3>
<p>å½“å‰è¿æ¥åº”å…·å¤‡çš„æ•°æ®åº“ç‰¹å¾åˆ—è¡¨ï¼Œä»¥ä¾¿åœ¨è¿ç§»é˜¶æ®µè€ƒè™‘æ¨¡å‹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å°†æ­¤åˆ—è¡¨è®¾ç½®ä¸º ['gis_enabled']ï¼Œåˆ™æ¨¡å‹å°†åªåœ¨æ”¯æŒ GIS çš„æ•°æ®åº“ä¸ŠåŒæ­¥</p>
<h3 id="required_db_vendor">required_db_vendor</h3>
<p>æœ¬æ¨¡å‹æ‰€ç‰¹æœ‰çš„æ”¯æŒçš„æ•°æ®åº“å‚å•†åç§°ã€‚ç›®å‰çš„å†…ç½®å‚å•†åç§°æ˜¯ï¼š <code>sqlite</code>ã€<code>postgresql</code>ã€<code>mysql</code>å’Œ<code>oracle</code>ã€‚å¦‚æœè¯¥å±æ€§ä¸ä¸ºç©ºï¼Œä¸”å½“å‰è¿æ¥å‚å•†ä¸ä¹‹ä¸åŒ¹é…ï¼Œåˆ™è¯¥æ¨¡å‹å°†ä¸ä¼šåŒæ­¥</p>
<h3 id="constraints">constraints</h3>
<p>å®šä¹‰çº¦æŸåˆ—è¡¨</p>
<pre class="codehilite"><code>from django.db import models

class Customer(models.Model):
    age = models.IntegerField()

    class Meta:
        constraints = [
            models.CheckConstraint(check=models.Q(age__gte=18), name='age_gte_18'),
        ]</code></pre>


<h3 id="label">label</h3>
<p>åªè¯»ï¼Œè¿”å›<code>app_label.object_name</code></p>
<h3 id="label_lower">label_lower</h3>
<p>åªè¯»ï¼Œè¿”å›<code>app_label.model_name</code></p>

        <div>
          <ul style="display: inline-block;padding: 0;margin: 0 0 0.5em;color: #999;">
            <li style="display: inline-block;margin: 0 1em 0 0;"><a href="/django/django-model-meta-options.html">ğŸ“… 2022-08-03</a></li>
          </ul>
        </div>

        <hr>

        <div class="nav-cell">
    <script async src="https://giscus.app/client.js"
            data-repo="ops-coffee/blog" data-repo-id="MDEwOlJlcG9zaXRvcnkxNDY4OTI0MTg="
            data-category="Announcements" data-category-id="DIC_kwDOCMFmgs4CQar3"
            data-mapping="pathname" data-strict="0" data-reactions-enabled="1"
            data-emit-metadata="0" data-input-position="top" data-theme="light"
            data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous">
    </script>
</div>

        <div>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8944257246828217"
         data-ad-slot="6731434232" data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</div>

        <div class="nav-cell">
            <p class="nav-list-title">èƒ½çœ‹åˆ°è¿™é‡Œä¸€å®šæ˜¯çœŸçˆ±ï¼Œè®¢é˜…ä¸€ä¸‹å§</p>
            <img alt="" loading="lazy" src="/static/images/wx.sou1.png" />
        </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="copy"> Â© ops-coffee</div>

      <div class="link">
        <a href="/comments.html" title="ç»™æˆ‘ç•™è¨€" target="_blank">ç•™è¨€</a>
        <a href="/friends.html" title="å‹æƒ…é“¾æ¥" target="_blank">å‹é“¾</a>
      </div>
    </div>
  </footer>
  
  <!-- Umami Cloud -->
<script async src="https://umami.ops-coffee.cn/script.js" data-website-id="a4aabd8e-32c7-40e7-a81c-119b909f2d0f"></script>

<!-- Google Adsense -->
<script data-ad-client="ca-pub-8944257246828217" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</body>

</html>