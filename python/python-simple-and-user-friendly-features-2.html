<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="applicable-device" content="pc,mobile">
  <meta name="keywords" content="None,关于技术,Python" />
  <meta name="description" content="None" />
  <link rel="alternate" type="application/rss+xml" title="运维咖啡吧" href="https://blog.ops-coffee.cn/feed.xml" />
  <link rel="stylesheet" href="https://blog.ops-coffee.cn/static/posts/css/ops-coffee.min.css" type="text/css" />

  <!-- Begin SEO tag -->
  <title>继续总结Python中那些简单好用的用法</title>
  <meta property="og:locale" content="zh_CN" />
  <meta property="og:site_name" content="运维咖啡吧" />
  <meta property="og:url" content="https://blog.ops-coffee.cn" />
  <meta property="og:title" content="继续总结Python中那些简单好用的用法" />
  <meta property="og:description" content="None" />
  <link rel="canonical" href="https://blog.ops-coffee.cn" />
  <!-- End SEO tag -->
</head>

<body>
  <div class="header">
    <div class="menu-button">&#9776; 
        <span class="menu-title">运维咖啡吧</span>
    </div> 

    <div class="container no-sidebar">
      <nav class="header-site">
        <ul>
          <li><a href="/">首页</a></li>
            <li class="has-submenu">
              <a href="#" target="_self">运维</a>
              <ul class="sub-menu">
                <li><a href="/tag/系统运维/" target="_self">系统运维</a></li>
                <li><a href="/elk/index.html" target="_self">ELK系列</a></li>
                <li><a href="/ldap/index.html" target="_self">LDAP系列</a></li>
              </ul>
            </li>
            <li class="has-submenu">
              <a href="#" target="_self">开发</a>
              <ul class="sub-menu">
                <li><a href="/tag/Devops/" target="_self">DevOps</a></li>
                <li><a href="/tag/Python/" target="_self">Python</a></li>
                <li><a href="/tag/Django/" target="_self">Django</a></li>
                <li><a href="/bpmn/index.html" target="_self">BPMN系列</a></li>
                <li><a href="/webssh/index.html" target="_self">WebSSH系列</a></li>
                <li><a href="/frontend/index.html" target="_self">前端开发系列</a></li>
              </ul>
            </li>
            <li><a href="/devops.html" target="_self">运维平台</a></li>
            <li><a href="/tag/这是生活/" target="_self">这是生活</a></li>
            <li class="has-submenu">
              <a href="#" target="_self">房车旅行</a>
              <ul class="sub-menu">
                <li><a href="/r/index.html" target="_self">房车体验</a></li>
                <li><a href="/travels.html" target="_self">旅行游记</a></li>
                <li><a href="/travel/china.html" target="_self">旅行地图</a></li>
              </ul>
            </li>
            <li><a href="/tag/index.html" target="_self">标签</a></li>
            <li><a href="/archive.html" target="_self">归档</a></li>
        </ul>
      </nav>
    </div>
  </div>

  <header>
    <div class="container no-sidebar">
      <a href="/">
        <h1>运维咖啡吧</h1>
        <h2>享受技术带来的乐趣，体验生活给予的感动</h2>
      </a>
    </div>
  </header>

  <div id="content-wrap">
    <div class="container no-sidebar">
        <h1 id="art-title">继续总结Python中那些简单好用的用法</h1>

        <p>上一篇文章<a href="https://blog.ops-coffee.cn/python/python-simple-and-user-friendly-features" target="_blank">Python中那些简单又好用的特性和用法</a>发出后，群里的小伙伴又给补充了几个好用的用法，结合生产实用经验汇总整理如下，各位看官如有需要请自取</p>
<p>1.反射，反射是一种机制，可以在运行时获取、检查和修改对象的属性和方法。Python提供了一些内置的函数和属性，可以用于实现反射操作</p>
<p>dir()函数：返回对象的所有属性和方法的列表</p>
<pre class="codehilite"><code>class MyClass:
    def __init__(self):
        self.name = &quot;运维咖啡吧&quot;
        self.age = 25

my_obj = MyClass()
print(dir(my_obj))</code></pre>


<p>getattr()函数：获取对象的属性或方法</p>
<pre class="codehilite"><code>class MyClass:
    def __init__(self):
        self.name = &quot;运维咖啡吧&quot;
        self.age = 25

my_obj = MyClass()
name = getattr(my_obj, &quot;name&quot;)
print(name)</code></pre>


<p>setattr()函数：设置对象的属性或方法</p>
<pre class="codehilite"><code>class MyClass:
    def __init__(self):
        self.name = &quot;运维咖啡吧&quot;
        self.age = 25

my_obj = MyClass()
setattr(my_obj, &quot;name&quot;, &quot;blog.ops-coffee.cn&quot;)
print(my_obj.name)</code></pre>


<p>hasattr()函数：检查对象是否具有指定的属性或方法</p>
<pre class="codehilite"><code>class MyClass:
    def __init__(self):
        self.name = &quot;运维咖啡吧&quot;
        self.age = 25

my_obj = MyClass()
has_name = hasattr(my_obj, &quot;name&quot;)
print(has_name)</code></pre>


<p>这些函数和属性可以帮助你在运行时动态地访问和修改对象的属性和方法。反射为编写更灵活和通用的代码提供了一种机制，可以根据需要操作对象的属性和方法</p>
<p>2.交换变量，这是一种非常常见和方便的操作，可以在需要时快速交换变量的值</p>
<pre class="codehilite"><code>a = 10
b = 20

a, b = b, a

print(a, b)  # 输出: 20 10</code></pre>


<p>3.可迭代对象解包，它允许你将可迭代对象的元素解包到单独的变量中。这对于同时处理多个值非常有用</p>
<pre class="codehilite"><code># 解包元组
a, b, c = (1, 2, 3)
print(a, b, c)   # 输出: 1 2 3

# 解包列表
x, y, z = [4, 5, 6]
print(x, y, z)   # 输出: 4 5 6</code></pre>


<p>4.深复制和浅复制，当处理复杂的数据结构时，深复制和浅复制允许你创建对象的副本。深复制会创建一个全新的对象，而浅复制会创建一个新对象，但共享内部数据。</p>
<pre class="codehilite"><code>import copy

# 创建一个列表
original_list = [1, 2, [3, 4]]

# 浅复制
shallow_copy = copy.copy(original_list)

# 深复制
deep_copy = copy.deepcopy(original_list)

# 修改原始列表中的嵌套列表
original_list[2][0] = 5

print(original_list)   # 输出: [1, 2, [5, 4]]
print(shallow_copy)    # 输出: [1, 2, [5, 4]]
print(deep_copy)       # 输出: [1, 2, [3, 4]]</code></pre>


<p>5.with语句的多个上下文管理器：在一个with语句中，你可以同时使用多个上下文管理器，以便在代码块执行前后执行多个操作</p>
<pre class="codehilite"><code>class CustomContextManager1:
    def __enter__(self):
        print(&quot;Entering CustomContextManager1&quot;)

    def __exit__(self, exc_type, exc_val, exc_tb):
        print(&quot;Exiting CustomContextManager1&quot;)

class CustomContextManager2:
    def __enter__(self):
        print(&quot;Entering CustomContextManager2&quot;)

    def __exit__(self, exc_type, exc_val, exc_tb):
        print(&quot;Exiting CustomContextManager2&quot;)

# 使用多个上下文管理器
with CustomContextManager1(), CustomContextManager2():
    # 在这里执行一些操作</code></pre>


<p>比较常用的是一次打开多个文件进行操作，例如同时打开文件1和文件2，读取文件1内容处理后写入文件2</p>
<pre class="codehilite"><code>with open(&quot;file1.txt&quot;) as file1, open(&quot;file2.txt&quot;) as file2:
    # 在这里可以使用file1和file2进行操作</code></pre>


<p>6.装饰器，通过装饰器来复用函数，简化操作</p>
<pre class="codehilite"><code># 创建一个装饰器函数，用于计算函数执行时间
import time

def calculate_time(func):
    def wrapper(*args, **kwargs):
        start_time = time.time()
        result = func(*args, **kwargs)
        end_time = time.time()
        print(f&quot;函数 {func.__name__} 执行时间为: {end_time - start_time} 秒&quot;)
        return result
    return wrapper

# 应用装饰器到函数
@calculate_time
def long_running_function():
    time.sleep(2)

long_running_function()</code></pre>


<p>7.使用字典来代替冗长的if/else判断，提升代码可读性</p>
<pre class="codehilite"><code>def operation_add(a, b):
    return a + b

def operation_subtract(a, b):
    return a - b

def operation_multiply(a, b):
    return a * b

def operation_divide(a, b):
    return a / b

# 定义一个操作字典，将操作名映射到对应的函数上
operations = {
    &quot;add&quot;: operation_add,
    &quot;subtract&quot;: operation_subtract,
    &quot;multiply&quot;: operation_multiply,
    &quot;divide&quot;: operation_divide
}

# 使用字典进行操作选择和调用相应的函数
result = operations[&quot;multiply&quot;](2, 3)
print(&quot;结果:&quot;, result)</code></pre>


<p>8.字符串格式化，使用占位符和格式化字符串来构建新的字符串</p>
<pre class="codehilite"><code>name = &quot;Alice&quot;
age = 25
message = &quot;My name is {} and I am {} years old.&quot;.format(name, age)
# 输出: &quot;My name is Alice and I am 25 years old.&quot;</code></pre>


<p>9.使用<code>lamba</code>函数进行简单的函数定义</p>
<pre class="codehilite"><code>add = lambda x, y: x + y
result = add(2, 3)
# 输出: 5</code></pre>


<p>10.使用<code>reversed</code>函数反转可迭代对象</p>
<pre class="codehilite"><code>numbers = [1, 2, 3, 4, 5]
reversed_numbers = list(reversed(numbers))
# 输出: [5, 4, 3, 2, 1]</code></pre>


<p>11.使用<code>map</code>函数对可迭代对象中的每个元素应用指定的函数</p>
<pre class="codehilite"><code>numbers = [1, 2, 3, 4, 5]
squared_numbers = list(map(lambda x: x**2, numbers))
# 输出: [1, 4, 9, 16, 25]</code></pre>


<p>12.使用<code>filter</code>函数根据指定的条件筛选可迭代对象中的元素</p>
<pre class="codehilite"><code>numbers = [1, 2, 3, 4, 5]
even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
# 输出: [2, 4]</code></pre>


<p>13.生成器函数，使用<code>yield</code>关键字来生成一个值，并且在每次生成值后暂停执行，等待下一次调用</p>
<pre class="codehilite"><code># 下面是一个简单的生成器函数示例，用于生成斐波那契数列
def fibonacci():
    a, b = 0, 1
    while True:
        yield a
        a, b = b, a + b

fib = fibonacci()
print(next(fib))  # 输出：0
print(next(fib))  # 输出：1
print(next(fib))  # 输出：1</code></pre>


<p>生成器函数可以一次生成一个值，而不是一次生成所有值，这使得生成器函数非常适合处理大量数据或无限序列</p>
<p>14.使用<code>functools</code>模块中的<code>partial</code>函数进行函数参数固定：partial函数可以固定函数的部分参数，生成一个新的函数</p>
<pre class="codehilite"><code>from functools import partial

def power(x, y):
    return x ** y

square = partial(power, y=2)
cube = partial(power, y=3)

print(square(5))  # 输出 25
print(cube(5))  # 输出 125</code></pre>


<p>15.使用<code>try...else</code>语句在<code>try</code>块没有引发异常时执行特定的代码</p>
<pre class="codehilite"><code>try:
    # 可能会引发异常的代码
    result = 10 / 2
except ZeroDivisionError:
    # 如果发生ZeroDivisionError异常
    print(&quot;除数不能为零！&quot;)
else:
    # 如果没有发生异常
    print(&quot;结果为:&quot;, result)</code></pre>


<p>类似的还有try...finally无论是否发生异常，都会执行</p>
<pre class="codehilite"><code>try:
    # 可能会引发异常的代码
    f = open('example.txt', 'r')
    # 其他操作
except IOError:
    # 如果发生IOError异常
    print(&quot;无法打开文件&quot;)
else:
    # 如果没有发生异常
    print(f.read())
finally:
    # 无论是否发生异常，都会执行的清理代码
    f.close()</code></pre>


<p>16.通过<code>signal</code>解耦代码</p>
<pre class="codehilite"><code>import signal
import os

# 定义一个事件处理函数
def handle_event(signum, frame):
    if signum == signal.SIGUSR1:
        print(&quot;接收到用户定义信号1，执行事件A&quot;)
        # 执行事件A的逻辑
    elif signum == signal.SIGUSR2:
        print(&quot;接收到用户定义信号2，执行事件B&quot;)
        # 执行事件B的逻辑
    else:
        print(f&quot;接收到未知信号: {signum}&quot;)

# 注册事件处理函数
signal.signal(signal.SIGUSR1, handle_event)  # 注册处理用户定义信号1的事件处理函数
signal.signal(signal.SIGUSR2, handle_event)  # 注册处理用户定义信号2的事件处理函数

# 模拟发送事件信号
def send_event1():
    # 发送用户定义信号1
    print(&quot;发送用户定义信号1&quot;)
    os.kill(os.getpid(), signal.SIGUSR1)

def send_event2():
    # 发送用户定义信号2
    print(&quot;发送用户定义信号2&quot;)
    os.kill(os.getpid(), signal.SIGUSR2)

# 执行事件
send_event1()  # 执行事件1
send_event2()  # 执行事件2</code></pre>


<p>两篇文章一共总结了32个用法，先这么多，欢迎大伙继续补充</p>

        <div>
          <ul style="display: inline-block;padding: 0;margin: 0 0 0.5em;color: #999;">
            <li style="display: inline-block;margin: 0 1em 0 0;"><a href="/python/python-simple-and-user-friendly-features-2.html">📅 2024-03-06</a></li>
<li style="display: inline-block;margin: 0 1em 0 0;"><a href="/tag/Python/">🏷️ Python</a></li><li style="display: inline-block;margin: 0 1em 0 0;"><a href="/tag/关于技术/">🏷️ 关于技术</a></li>          </ul>
        </div>

        <hr>

        <div class="nav-cell">
            <script async src="https://giscus.app/client.js"
                    data-repo="ops-coffee/blog" data-repo-id="MDEwOlJlcG9zaXRvcnkxNDY4OTI0MTg="
                    data-category="Announcements" data-category-id="DIC_kwDOCMFmgs4CQar3"
                    data-mapping="pathname" data-strict="0" data-reactions-enabled="1"
                    data-emit-metadata="0" data-input-position="top" data-theme="light"
                    data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous">
            </script>
        </div>

        <div>
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8944257246828217"
                 data-ad-slot="6731434232" data-ad-format="auto" data-full-width-responsive="true"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        </div>

        <div class="nav-cell">
            <p class="nav-list-title">能看到这里一定是真爱，关注一下吧</p>
            <img alt="" loading="lazy" src="/static/images/wx.sou1.png" />
        </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="copy"> © ops-coffee</div>

      <div class="link">
        <a href="/search.html" title="搜索" target="_blank">搜索</a>
        <a href="/questions.html" title="提问" target="_blank">提问</a>
        <a href="/friends.html" title="友情链接" target="_blank">友链</a>
      </div>
    </div>
  </footer>
  
  <!-- Umami Cloud -->
<script async src="https://umami.ops-coffee.cn/script.js" data-website-id="a4aabd8e-32c7-40e7-a81c-119b909f2d0f"></script>

<!-- Google Adsense -->
<script data-ad-client="ca-pub-8944257246828217" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</body>

</html>